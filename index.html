<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="google" content="notranslate">

<!-- Evitar cache -->
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />

<title>JESTV</title>

<!-- Font Awesome y Google Fonts -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css?v=6">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined">
<link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet">


<script type="text/javascript">
  // Desactivar clic derecho
  document.addEventListener('contextmenu', function(e) {
      e.preventDefault();
  });
</script>  
  
    <style>
      
      
      
      
        body, html {  
    margin: 0;  
    padding: 0;  
    width: 100%;  
    height: 100%;  
    background: #007bff; /* Fondo azul */  
      overflow: hidden;
    font-family: Arial, sans-serif;  
  }  
  
  /* Overlay inicial */  
  #overlay {  
    position: fixed;  
    top: 0; left: 0;  
    width: 100%; 
    height: 100%;  
    background: rgba(0,0,0,0.6); /* Negro transparente */  
    display: flex;  
    justify-content: center;  
    align-items: center;  
    z-index: 3;  
  }  
  
  #overlay button {  
    padding: 20px 40px;  
    font-size: 24px;  
    border: none;  
    border-radius: 10px;  
    background: #007bff; /* Azul */  
    color: #fff;  
    cursor: pointer;  
  }  
  
  #overlay button:hover,  
  #overlay button:focus {  
    outline: 3px solid #fff;  
    background: #0056cc;  
  }  
  

   /* Contenedor interno para centrar verticalmente los elementos */
.overlayContent {
  display: flex;
  flex-direction: column; /* los hijos se apilan verticalmente */
  align-items: center;    /* centrados horizontalmente */
  gap: 15px;              /* espacio entre botón y mensaje */
}

/* Mensaje elegante debajo del botón */
#orientationMessage {
  color: #fff;
  background: rgba(0,0,0,0.6);
  padding: 10px 20px;
  border-radius: 8px;
  font-size: 18px;
  text-align: center;
}

  /* Oculto inicialmente solo si está horizontal */
  #orientationMessage.hidden {
    opacity: 0;
    pointer-events: none;
  }   

  /* Contenedor principal */  
  #appContainer {  
    width: 100%;  
    height: 100%;  
    background: #007bff;  
    position:absolute;  
    color: #fff;  
    font-size: 32px;  
    display: none; /* Oculto hasta iniciar */  
  }  
  
  .material-icons {  
    font-size: 36px;  
  }  
  
  /* Iconos arriba a la derecha */  
  #topRightIcons {  
    position: absolute;  
    top: 10px;  
    right: 15px;  
    display: flex;  
    gap: 15px;  
  }  
  
  #topRightIcons button {  
    background: none;  
    border: none;  
    color: white;  
    cursor: pointer;  
  }  
  
  #topRightIcons button:focus {  
    outline: 3px solid #fff;  
  }  
  
  #topRightIcons .material-icons {  
    font-size: 36px;  
  }  
  
  /* Categorías */  
  #categoryContainer {  
    display: flex;  
    justify-content: space-around;  
    position: absolute;  
    top: 70px;  
    width: 100%;  
  }  
  
  #categoryContainer .category {  
    background: none;  
    border: none;  
    color: white;  
    font-size: 24px;  
    cursor: pointer;  
  }  
  
  #categoryContainer .category.selected {  
    color: yellow;  
  }  
  
  #categoryContainer .category:focus {  
    outline: 3px solid yellow;  
  }  
  
/* Carrusel */
#carouselContainer {
position: absolute;
top: 120px;
left: 32%;
background: #444;
transform: translateX(-50%);
width: 55%;
height: 40%;
overflow: hidden;
}
      
 
   
  

/* Slides internos */
#carouselSlides {
  display: flex;
  gap: 0;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  height: 100%; /* que ocupe todo el alto del contenedor */
}

/* Cada slide */
.carouselSlide {
  flex: 0 0 100%; /* ocupa todo el ancho del contenedor */
  height: 100%;   /* mismo alto que 
  #carouselContainer */
  position: relative;
  overflow: hidden;
  scroll-snap-align: start;
  cursor: pointer;
}

/* Imagen dentro del slide */
.carouselSlide img {
  width: 100%;
  height: 100%;
  object-fit: fill;     /* se ve completa sin recortar */
  object-position: center; /* centrada horizontal y verticalmente */
  display: block;
  background-color: #000;  /* rellena los espacios vacíos */
}



/* Dots */
#carouselDots {
  position: absolute;
  bottom: 10px;
  width: 100%;
  text-align: center;
}

.dot {
  height: 12px;
  width: 12px;
  margin: 0 4px;
  background-color: white;
  border-radius: 50%;
  display: inline-block;
  transition: background-color 0.3s;
}

.dot.active {
  background-color: red;
}      
      
      
      
      
      
   /* Ocultar scrollbars sin desactivar el desplazamiento */
#carouselSlides,
#kidsCarouselSlides {
  scrollbar-width: none;     /* Firefox */
}

#carouselSlides::-webkit-scrollbar,
#kidsCarouselSlides::-webkit-scrollbar {
  display: none;             /* Chrome, Android, Smart TVs */
}   
      
      
  /* Bottom containers */  
  #bottomContainers {  
    position: absolute;  
    top: calc(120px + 40% + 2px);  
    left: 32%;  
    transform: translateX(-50%);  
    width: 55%;  
    height: calc(100% - (120px + 40% + 20px));  
    display: flex;  
  }  
  
  .bottomContainer {  
    flex: 1;  
    background: #444;  
    margin-left: 2px;  
    margin-right: 2px;
    position: relative;
  }  
  
  .bottomContainer:first-child { margin-left: 0; }  
  .bottomContainer:last-child { margin-right: 0; }  
      
      
      
      
.bottomContainer img {
  width: 100%;
  height: 100%;
  object-fit: fill;
  display: block;
}

/*  Título superpuesto sobre la imagen */
.bottomTitle {
  position: absolute;
  bottom: 0;
  width: 100%;
  padding: 0px 0;
  text-align: center;
  font-weight: bold;
  font-size: 1rem;
  color: #fff;
  background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
  letter-spacing: 1px;
  text-shadow: 0 0 4px rgba(0,0,0,0.8);
}
      
      
  
 #rightContainers {    
  position: absolute;    
  top: 120px; /* mismo top que carrusel */    
  left: 60%; /* empieza justo a la derecha del carrusel */    
  width: 35%; /* ancho derecho */    
  height: calc(100% - 120px - 18px); 
  display: flex; /* contenedores uno al lado del otro */    
}    
    
/* Cada contenedor ocupa la mitad del ancho disponible */    
.rightContainer {    
  flex: 1;    
  background: #444; /* placeholder */    
  margin-left: 2px;    
  margin-right: 2px;    
      
}    
   
      
  /* Imagen dentro de cada contenedor */
.rightContainer img {
  width: 100%;
  height: 100%;
  object-fit: fill; /* o usa contain si quieres ver la imagen completa */
  display: block;
  cursor: pointer;
  border-radius: 0; /* puedes agregar 10px si quieres esquinas redondeadas */
  transition: transform 0.3s ease;
}

    
  /* Quitar margen en los extremos */    
.rightContainer:first-child {    
  margin-left: 0;    
}    
.rightContainer:last-child {    
  margin-right: 0;    
}
      
      
      
 #animeContainers1 {    
  position: absolute;    
  top: 120px; /* mismo top que carrusel */    
  left: 4%; /* empieza justo a la derecha del carrusel */    
  width: 22.5%; /* ancho derecho */    
  height: calc(100% - 120px - 18px); 
  display: flex; /* contenedores uno al lado del otro */    
}    
    
/* Cada contenedor ocupa la mitad del ancho disponible */    
.animeContainer1 {    
  flex: 0 0 100%; /* ocupa todo el ancho del contenedor */   
  background: #444; /* placeholder */    
  margin-left: 2px;    
  margin-right: 2px;    
      
}      
  
      
  /* Imagen dentro de cada contenedor */
.animeContainer1 img {
  width: 100%;
  height: 100%;
  object-fit: fill; /* o usa contain si quieres ver la imagen completa */
  display: block;
  cursor: pointer;
  transition: transform 0.3s ease;
}

    
  /* Quitar margen en los extremos */    
.animeContainer1:first-child {    
  margin-left: 0;    
}    
.animeContainer1:last-child {    
  margin-right: 0;    
}    

      
      
      
  #animeContainers2 {    
  position: absolute;
top: 120px;
left: 73%;

width: 22.5%;
height: calc(100% - 120px - 18px); 
overflow: hidden;

   
}    
    
/* Cada contenedor ocupa la mitad del ancho disponible */    
.animeContainer2 {    
  width: 100%;
  height: 49%;
    background: #444;  
     
    margin-bottom: 3px;
    position: relative;  
      
}      
  
      
  /* Imagen dentro de cada contenedor */
.animeContainer2 img {
  width: 100%;
  height: 100%;
  object-fit: fill;
}

    
  /* Quitar margen en los extremos */    
.animeContainer2:first-child {    
  margin-left: 0;    
}    
.animeContainer2:last-child {    
  margin-right: 0;    
}    
    
      
      
      
/* Carrusel Kids */
#kidsCarouselContainer {
  position: absolute;
  top: 120px;          /* misma posición que películas */
  left: 24.5%;
  background: #444;
  transform: translateX(-50%);
  width: 40%;
  height: 40%;
  overflow: hidden;
  
  
}

/* Slides internos */
#kidsCarouselSlides {
  display: flex;
  gap: 0;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  height: 100%; /* que ocupe todo el alto del contenedor */
}

/* Cada slide */
.kidsSlide {
  flex: 0 0 100%; /* ocupa todo el ancho del contenedor */
  height: 100%;   /* mismo alto que #kidsCarouselContainer */
  position: relative;
  overflow: hidden;
  scroll-snap-align: start;
  cursor: pointer;
}

/* Imagen dentro del slide */
.kidsSlide img {
  width: 100%;
  height: 100%;
  object-fit: fill;     /* se ve completa sin recortar */
  object-position: center; /* centrada horizontal y verticalmente */
  display: block;
  background-color: #000;  /* rellena los espacios vacíos */
}

/* Dots */
#kidsCarouselDots {
  position: absolute;
  bottom: 10px;
  width: 100%;
  text-align: center;
}

.kidsDot {
  height: 12px;
  width: 12px;
  margin: 0 4px;
  background-color: white;
  border-radius: 50%;
  display: inline-block;
  transition: background-color 0.3s;
}

.kidsDot.active {
  background-color: red;
}      
        
      
      
      
      
 
      
 
  #kidsContainers2 {  
    position: absolute;    
  top: 120px; /* mismo top que carrusel */    
  left: 45%; /* empieza justo a la derecha del carrusel */    
  width: 20%; /* ancho derecho */    
  height: 40%; 
     
}    
    

  
  .kidsContainer2 {  
    width: 100%;
  height: 49%;
    background: #444;  
     
    margin-bottom: 3px;
    position: relative;
  }  
  
   
      
      
      
.kidsContainer2 img {
  width: 100%;
  height: 100%;
  object-fit: fill;
  
}


          

  #kidsContainers3{    
      
  position: absolute;  
    top: calc(120px + 40% + 2px);  
    left: 24.5%;  
    transform: translateX(-50%);  
    width: 40%;  
    height: calc(100% - (120px + 40% + 20px));  
    display: flex;  
  }  
  
  .kidsContainer3 {  
    flex: 1;  
    background: #444;  
    margin-left: 2px;  
    margin-right: 2px;
    position: relative;
  }  
  
  .kidsContainer3:first-child { margin-left: 0; }  
  .kidsContainer3:last-child { margin-right: 0; }  
      
      
      
      
.kidsContainer3 img {
  width: 100%;
  height: 100%;
  object-fit: fill;
  display: block;
}      
      
      
   
      
      
      
     #kidsContainers4{    
      
  position: absolute;  
    top: calc(120px + 40% + 2px);  
    left: 55%;  
    transform: translateX(-50%);  
    width: 20%;  
    height: calc(100% - (120px + 40% + 20px));  
    display: flex;  
  }  
  
  .kidsContainer4 {  
    flex: 1;  
    background: #444;  
    margin-left: 2px;  
    margin-right: 2px;
    position: relative;
  }  
  
  .kidsContainer4:first-child { margin-left: 0; }  
  .kidsContainer4:last-child { margin-right: 0; }  
      
      
      
      
.kidsContainer4 img {
  width: 100%;
  height: 100%;
  object-fit: fill;
  display: block;
}   
      
      
   
      
    
      
 #kidsContainers5 {  
    position: absolute;    
  top: 120px; /* mismo top que carrusel */    
  left: 65.5%; /* empieza justo a la derecha del carrusel */    
  width: 29%; /* ancho derecho */    
  height: calc(100% - 120px - 18px); 
     
}    
    

  
  .kidsContainer5 {  
    width: 100%;
  height: 49%;
    background: #444;  
     
    margin-bottom: 3px;
    position: relative;
  }  
  
   
      
      
      
.kidsContainer5 img {
  width: 100%;
  height: 100%;
  object-fit: fill;
  
}
    
      
      
      
   #tvContainers1 {    
  position: absolute;    
  top: 120px; /* mismo top que carrusel */    
  left: 4%; /* empieza justo a la derecha del carrusel */    
  width: 100%; /* ancho derecho */    
  height: calc(100% - 120px - 18px); 
  display: flex; /* contenedores uno al lado del otro */    
}    
    
/* Cada contenedor ocupa la mitad del ancho disponible */    
.tvContainer1 {    
  width: 15%;
  height: 100%;  
  background: #444; /* placeholder */    
  margin-left: 2px;    
  margin-right: 2px;    
      
}      
  
      
  
     
      
  /* Cada contenedor ocupa la mitad del ancho disponible */    
.tvContainer2 {    
  width: 20%;
  height: 100%;
  background: #444; /* placeholder */    
  margin-left: 2px;    
  margin-right: 2px;    
   
}      
  
      
  
    
      
     /* Cada contenedor ocupa la mitad del ancho disponible */    
.tvContainer3 {    
  width: 10%;
  height: 100%;
  background: #444; /* placeholder */    
  margin-left: 2px;    
  margin-right: 2px;    
      
}      
      
      
  /* Cada contenedor ocupa la mitad del ancho disponible */    
.tvContainer4 {    
  width: 45%;
  height: 100%;
  background: #444; /* placeholder */    
  margin-left: 2px;    
  margin-right: 2px;    
      
}      
  
      
 .tvContainer4 iframe {
  width: 80%;
  height: 80%;
  object-fit: fill;
  display: block;
} 
      
   
      
   #categoryButtons2 {
    display: flex;
    flex-direction: column;   /* uno debajo del otro */
    gap: 0px;                /* espacio entre botones */
    padding: 5px;            /* margen interno opcional */
}

#categoryButtons2 button {
    width: 100%;              /* opcional: que todos tengan el mismo ancho */
    padding: 10px;            /* tamaño más cómodo */
    border-radius: 8px;
    font-size: 16px;
}  
      
      
      
 .option-button1 {
   display: inline-block; /* Cambiar a inline-block para que se alineen uno al lado del otro */
    width: 60px; /* Ajusta este valor para el ancho deseado */
    height: 30px; /* Ajusta este valor para el alto deseado */
    margin: 5px;
    padding: 5px 0; /* Ajuste del padding superior e inferior */
    background-color: #007bff;
    color: #fff;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    font-size: 10px; /* Ajusta el tamaño de la fuente según lo desees */
    text-align: center; /* Centra el texto dentro del botón */
    line-height: 0px; /* Centrar verticalmente el texto, ajustar según el alto */
    white-space: nowrap; /* Evita que el texto se rompa en varias líneas */ 
   
   
   }
         
     
      
      
  /* Estilo para títulos de canales TV */
.titulotv {
  font-weight: 700;
  cursor: pointer;
  background-color: #007bff;
  width: 100%;
  line-height: 1.2;
  font-size: 14px;

  margin: 0;           /* elimina cualquier espacio vertical */
  padding: 4px 5px;    /* pequeño espacio interno opcional */
}
      
      
      
     /* Estilos del popup */
.popuppelis {
  position: absolute;
  top: 0;
  overflow: hidden;  
  left: 0;
  width: 100%;
  height: 100%;
  background: #007bff;          /* Fondo negro para reproductor */
  z-index: 1;             /* Encima de todo */
  display: flex;
  flex-direction: column;
}
   

#closepelis {
    display: inline-flex;       /* ajusta al tamaño del contenido */
    align-items: center;        /* centra verticalmente si hay padding */
    justify-content: center;    /* centra horizontalmente */
    width: 40px;                /* tamaño del botón */
    height: 40px;               /* tamaño del botón */
    cursor: pointer;
    user-select: none;
    position: absolute;         /* para ponerlo arriba a la izquierda */
    top: 0px;
    left: 10px;
    font-size: 28px;            /* tamaño del icono */
    z-index: 5;
    background: rgba(0,0,0,0.3); /* opcional: fondo del botón */
    border-radius: 50%;         /* opcional: redondear */
}



  
/* Contenedor de categorías */
#categoryButtons {
   position: relative;
  display: flex;
  top:-15px;
  background: #007bff;
  flex-wrap: wrap;            /* Que bajen si no caben */
  justify-content: flex-start;/* Que inicien desde la izquierda */
  align-items: flex-start;    /* Que se alineen arriba */
  width: 100%;                /* Ocupa todo el ancho */
 z-index: 1; 
  box-sizing: border-box;     /* Incluye padding en el ancho */
  padding: 10px;              /* Espacio interno */
  margin: 0;                  /* Quitar márgenes externos */
}

/* Cada categoría */
.category-label {
  font-size: 15px;
 background: #007bff;
  padding: 2px 4px;
  cursor: pointer;
  transition: background 0.3s, color 0.3s;
  white-space: nowrap;        /* No cortar palabras */
  margin: 5px;                /* Separación entre categorías */
}

/* Categoría activa */
.category-label.active-category {
  background: #007bff;
  color: yellow;
  font-weight: bold;
}

/* Hover (para cuando hay control remoto o mouse) */
.category-label:hover {
  background: #ddd;
}
 
#videoContainer {
position: relative;
top: -40px;       /* espacio desde arriba */
right: -385px;    /* espacio desde la derecha */
width: 400px;    /* ancho del video */
height: 150px;   /* alto del video */
background: black;
display: flex;
justify-content: center;
align-items: center;
overflow: hidden;
}

@media (min-width: 1020px) {
    #videoContainer {
position: relative;
top: -40px;       /* espacio desde arriba */
right: -700px;    /* espacio desde la derecha */
width: 400px;    /* ancho del video */
height: 150px;   /* alto del video */
background: black;
display: flex;
justify-content: center;
align-items: center;
overflow: hidden;
   }
}




#Botonesserver {
position:relative;
top: -100px;       /* espacio desde arriba */
right: -470px;    /* espacio desde la derecha */
width: 400px;
height: 20px;
z-index:1000;
}

@media (min-width: 1020px) {
       #Botonesserver {
position:relative;
top: -80px;       /* espacio desde arriba */
right: -830px;    /* espacio desde la derecha */
width: 400px;
height: 20px;
z-index:1000;
}
  }

.option-button {
    display: inline-block; /* Cambiar a inline-block para que se alineen uno al lado del otro */
    width: 60px; /* Ajusta este valor para el ancho deseado */
    height: 30px; /* Ajusta este valor para el alto deseado */
    margin: 5px;
    padding: 5px 0; /* Ajuste del padding superior e inferior */
    background-color: #444;
    color: #fff;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    font-size: 10px; /* Ajusta el tamaño de la fuente según lo desees */
    text-align: center; /* Centra el texto dentro del botón */
    line-height: 0px; /* Centrar verticalmente el texto, ajustar según el alto */
    white-space: nowrap; /* Evita que el texto se rompa en varias líneas */
}

@media (min-width: 500px) {
 .option-button {
    display: inline-block; /* Cambiar a inline-block para que se alineen uno al lado del otro */
    width: 60px; /* Ajusta este valor para el ancho deseado */
    height: 30px; /* Ajusta este valor para el alto deseado */
    margin: 5px;
    padding: 5px 0; /* Ajuste del padding superior e inferior */
    background-color: #444;
    color: #fff;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    font-size: 10px; /* Ajusta el tamaño de la fuente según lo desees */
    text-align: center; /* Centra el texto dentro del botón */
    line-height: 0px; /* Centrar verticalmente el texto, ajustar según el alto */
    white-space: nowrap; /* Evita que el texto se rompa en varias líneas */
}


}


@media (min-width: 1020px) {
    .option-button {
    display: inline-block; /* Cambiar a inline-block para que se alineen uno al lado del otro */
    width: 100px; /* Ajusta este valor para el ancho deseado */
    height: 40px; /* Ajusta este valor para el alto deseado */
    margin: 5px;
    padding: 5px 0; /* Ajuste del padding superior e inferior */
    background-color: #444;
    color: #fff;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    font-size: 20px; /* Ajusta el tamaño de la fuente según lo desees */
    text-align: center; /* Centra el texto dentro del botón */
    line-height: 0px; /* Centrar verticalmente el texto, ajustar según el alto */
    white-space: nowrap; /* Evita que el texto se rompa en varias líneas */
}

}

.option-button:hover {
    background-color: #00BFFF;
}



.fullscreen-btn1 {
position:relative;
top: -50px;       /* espacio desde arriba */
right: -380px;    /* espacio desde la derecha */
background: #444;
color: #fff;
    border: none;
    border-radius: 5px;
    padding: 10px 5px;
    font-size: 10px;

z-index:1000;
}

@media (min-width: 1020px) {

.fullscreen-btn1 {
position:relative;
top: -30px;       /* espacio desde arriba */
right: -700px;    /* espacio desde la derecha */
background: #444;
color: #fff;
    border: none;
    border-radius: 5px;
    padding: 10px 5px;
    font-size: 15px;

z-index:1000;
}

}



/* Cuando está fullscreen inmersivo */
    
#videoContainer:fullscreen,
#videoContainer:-webkit-full-screen,
#videoContainer:-moz-full-screen,
#videoContainer:-ms-fullscreen {
position: fixed;   /*  fuerza a ocupar la pantalla */
top: 0;
left: 0;
width: 100vw;
height: 100vh;
background: black;
z-index: 9999;
}

/* El video ocupa todo el contenedor */
    
#videoContainer video {
width: 100%;
height: 100%;
object-fit: cover; 
  /* o fill / contain según prefieras */
background: black;
}

/* Controles superpuestos (flotan arriba del video en fullscreen también) */
    
.controls1 {
position: absolute;
left: 0;
bottom: 0;
width: 100%;
display: flex;
justify-content: space-between;
align-items: center;
background: rgba(0,0,0,0.6);
padding: 8px 12px;
box-sizing: border-box;
color: #fff;
font-size: 20px;
transition: opacity 0.5s;
z-index: 10;
}

.hidden-controls { opacity:0; visibility:hidden; }

.progress-bar-container {
width: 150px;
height: 10px;
background-color: rgba(0, 0, 0, 0.7);
margin: 0 10px;
border-radius:10px;
cursor: pointer;
}
.progress-bar {
background-color: #fff;
height: 100%;
border-radius:10px;
position: relative;
width: 100%;
}
.progress-bar div {
background-color: #1E90FF;
width: 0;
border-radius:10px;
height: 100%;
}

.center-controls {
position:absolute;
top: 50%;
left: 50%;
transform: translate(-50%,-50%);
display: flex;
gap: 40px;
transition: opacity 0.5s;
z-index: 99999;
}

.center-controls span { font-size: 40px; color:#fff; cursor:pointer; }

.top-right-controls {
position: absolute;
top: 10px;
right: 10px;
display: flex;
flex-direction: column;
gap: 10px;
transition: opacity 0.5s;
}

#currentTime, #totalTime { font-size:14px; color:#1E90FF; margin:0 5px; }

#volumeControl.hidden, #speed.hidden { display: none; }

.speed-menu {
position: absolute;
bottom: 50px;
right: 60px;
background: rgba(0,0,0,0.9);
border-radius: 8px;
padding: 5px 0;
display: flex;
flex-direction: column;
gap: 5px;
z-index: 20;
}
.speed-menu div {
padding: 6px 12px;
color: #fff;
font-size: 14px;
cursor: pointer;
transition: background 0.2s;
}
.speed-menu div:hover { background: #1E90FF; }
.hidden1 { display: none; }



 #playlistContainer1 {
    width: 100%; /* Ancho completo */
     color: #fff;
     background: #007bff; 
     overflow-y: auto; /* Agrega un scroll solo cuando sea necesario */
    max-height: calc(110vh - 100px); /* Ajusta la altura máxima según necesites */
    margin-bottom: 0px; /* Ajusta el margen inferior del contenedor de las imágenes */
    position: relative;
    margin-top: -20px; /* Mueve el contenedor hacia arriba (ajusta el valor según necesites) */

}    
  
  /* Clase para ocultar */  
  .hidden { display: none !important; }  
  
  
   
#playlistContainer1:focus {
    outline: none; /* Elimina cualquier contorno de foco predeterminado */
}

      
      
   
  /* Clase para ocultar */  
  .hidden { display: none !important; }  
  
  
   
 /* Si tu .channel-container usa flex y obliga al título a ser angosto,
   este estilo ayuda a que el texto use todo el ancho disponible. */
.channel-container {
  min-width: 120px; /* ajusta a un ancho razonable; aumenta si es necesario */
}

/* Si usas un grid/flex y quieres evitar que los items se reduzcan demasiado */
.channel-container,
.channel-container * {
  box-sizing: border-box;
}    
      
    
     
      
  
.channel-container {
        text-align: center;
        width: calc(33.33% - 10px);
        float: left;
       margin: 10px 5px 5px;
    }
    
    .channel-container p {
        margin: 0px;
        font-size: 10px;
    }
    
    

/* Solo cuando la pantalla sea grande, tipo monitor 24 pulgadas o más */
@media (min-width: 1020px) {
    .channel-container p {
        margin: 0px;
        font-size: 20px;
    }
}
     
      
      
      
      
    /* Solo cuando el dispositivo esté en modo horizontal (ideal para móviles) */
@media (min-width: 500px) {
    .channel-container {
        width: calc(16.66% - 10px); /* Ajuste para móviles en horizontal */
    }
}

/* Solo cuando la pantalla sea grande, tipo monitor 24 pulgadas o más */
@media (min-width: 1020px) {
    .channel-container {
        width: calc(12.5% - 10px); /* Ajuste para pantallas grandes */
    }
}
    
      
    
   .channel-container img {
    margin-top:20px;
     
    height: 150px;
    width: 100px;
    border-radius: 0px;
    border: 3px solid transparent; 
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    transition: transform 0.3s ease, border-radius 0.3s ease; /* Agregado el border-radius a la transición */
}

      
/* Ajuste solo para móviles en modo horizontal */
@media (min-width: 500px) {
    .channel-container img {
        margin-top:20px;
     
    height: 150px;
    width: 100px;
    border-radius: 0px;
    border: 3px solid transparent; 
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    transition: transform 0.3s ease, border-radius 0.3s ease; /* Agregado el border-radius a la transición */
    }
}
      
      
  @media (min-width: 1020px) {
        .channel-container img {
    margin-top:20px;
     
    height: 200px;
    width: 140px;
    border-radius: 0px;
    border: 3px solid transparent; 
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    transition: transform 0.3s ease, border-radius 0.3s ease; /* Agregado el border-radius a la transición */
}
    } 
      
      
      
      
.channel-container img:hover {
    border-radius: 0px;
    border: 3px solid #00BFFF; !important; /* Asegurarse de que el borde azul se aplique */
}
    
    .channel-container img:hover {
        transform: scale(1.05);
    }
   
      
      
 
    

   
  
    
      
  button5 {
    position: absolute;
    right: 10px; /* Pegado al lado derecho del contenedor */
    background-color: #f00; 
    border: none;
    padding: 10px;
    cursor: pointer;
    font-size: 20px;
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 20px; /* Asegúrate de que los botones tengan la misma anchura */
    height: 20px; /* Y la misma altura */
}


      
 /* Estilos para botones de scroll horizontal, ocultos por defecto */
.vertical-scroll {
    display: none;
}    
      
      
      
  /* Mostrar botones horizontales en pantallas grandes o en modo horizontal */
@media (min-width: 1024px), (orientation: landscape) {
    .vertical-scroll {
        display: inline-block;
    }
}    
      
  
      
 .popud51 {
    position: absolute;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #007bff;
    display: flex;
    
   z-index: 999;
    
}
  
  
  
  

.popup-content51 {
    background-color: #007bff;
    color: #fff;
    width: 100%;
    height: 100%;
    overflow-y: auto;     /* scroll vertical */
    overflow-x: hidden;   /* NO permitir scroll horizontal */
    margin-top: -20px;
}
@media (min-width: 1020px) {
       .popup-content51 {
    background-color: #007bff;
    color: #fff;
    width: 100%;
    height: 100%;
    
    margin-top:20px;
    
}
  }
  
  
  
  #movie-logo {
    width: 80px;
    height: 100px;
    border-radius: 5px;
    position: relative;
    margin-top: 10px;
    right: -240px;
    top:-20px;
}

  @media (min-width: 1020px) { /* Ajusta este ancho según tus necesidades */
    #movie-logo {
        width: 150px;
            height: 200px;
         border-radius: 5px;
    position: relative;
    top:-80px;
    left: 35%;
    }
}
  
  
     
     #movie-title {
     position:relative;
     margin-top: -180px;
     left:0px;
    font-size: 30px;
}
}

  @media (min-width: 1020px) {
    #movie-title {
     position:relative;
     margin-top: -180px;
     left:0px;
    font-size: 30px;
}
}
      
      
        #categories {
           position:relative;
           margin-top: 10px;
           left:0px;
            
            font-size: 14px;
            color: #fff;
        }
@media (min-width: 500px) {
     #categories {
           position:relative;
           margin-top: 10px;
           left:0px;
            
            font-size: 14px;
            color: #fff;
        }
}


@media (min-width: 1020px) {
     #categories {
           position:relative;
           margin-top: 10px;
           left:0px;
            
            font-size: 25px;
            color: #fff;
        }


}


        #synopsis {
            
            left:0px;
            margin-top: 5px;
            position: relative;
            text-align: justify;
            line-height: 1.5;
            font-size: 14px;
        }

@media (min-width: 500px) {
     #synopsis {
            
            left:0px;
            margin-top: 5px;
            position: relative;
            text-align: justify;
            line-height: 1.5;
            font-size: 14px;
        }

}


@media (min-width: 1020px) {
     #synopsis {
            
            left:0px;
            margin-top: 5px;
            position: relative;
            text-align: justify;
            line-height: 1.5;
            font-size: 25px;
        }


}
    
  
  
.toggle-icon {
    cursor: pointer;
    font-size: 20px;
    margin-top: 10px;
    text-align: center;
    display: block;
    color: #fff; /* Cambia el color si lo necesitas */
}
        

        iframe {
            width: 250px;
            height: 250px;
            display: block;
            margin: 20px auto;
           
        }

  @media (min-width: 500px) {
   iframe {
            width: 250px;
            height: 250px;
            display: block;
            margin: 20px auto;
           
        }
}
  @media (min-width: 1020px) {
  iframe {
            width: 600px;
            height: 400px;
            display: block;
            margin: 20px auto;
           
        }
}

  .button {
    width: 40px; /* El ancho debe ser igual al alto */
    height: 40px; /* Definir una altura fija */
    border: none;
    border-radius: 50%; /* 50% asegura que sea completamente redondo */
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center; /* Centra el contenido dentro del botón */
    font-size: 12px;
    margin-top: 5px;
    
    background-color: rgba(128, 128, 128, 0.5); /* Gris con 50% de transparencia */
    color: white;
}
  
@media (min-width: 500px) {
       .button {
    width: 40px; /* El ancho debe ser igual al alto */
    height: 40px; /* Definir una altura fija */
    border: none;
    border-radius: 50%; /* 50% asegura que sea completamente redondo */
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center; /* Centra el contenido dentro del botón */
    font-size: 12px;
    margin-top: 5px;
    
    background-color: rgba(128, 128, 128, 0.5); /* Gris con 50% de transparencia */
    color: white;
}
}


 @media (min-width: 1020px) {
       .button {
    width: 60px; /* El ancho debe ser igual al alto */
    height: 60px; /* Definir una altura fija */
    border: none;
    border-radius: 50%; /* 50% asegura que sea completamente redondo */
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center; /* Centra el contenido dentro del botón */
    font-size: 22px;
    margin-top: 5px;
    
    background-color: rgba(128, 128, 128, 0.5); /* Gris con 50% de transparencia */
    color: white;
}

}
  
        #controls {
            display: flex;
            position:relative;
            margin-top: 0px;
            left:0px;
            gap:5px;
        }

        



        .play-button {
            background-color: rgba(128, 128, 128, 0.5); /* Gris con 50% de transparencia */
            color: #fff;
            
        }

        .favorite-button {
            background-color: rgba(128, 128, 128, 0.5); /* Gris con 50% de transparencia */
            color: #fff;
            
        }
  
  .ojo-button{
    
       font-size: 22px;
  
  
  }
  
  
  #actors-slider {
           display: flex;
            overflow-x: auto;
            gap: 10px;
           position:relative;
            
            padding: 0px;
            background: #007bff;
            border-radius: 0px;
        }

        

        
        .actor-item img {
           width: 60px;
            height: 80px;
         border-top-left-radius: 10px;
         border-top-right-radius:10px;
           padding: 5px;
          object-fit: cover;
        }
@media (min-width: 768px) { /* Ajusta este ancho según tus necesidades */
   .actor-item img  {
        width: 80px;
            height: 100px;
         border-top-left-radius: 10px;
         border-top-right-radius:10px;
           padding: 5px;
          margin-right: 25px; 
          object-fit: cover;
    }
}
  
  
        .actor-item p {
            margin-top: -13px;
            margin-left: 5px;
            width: 60px;
            height: 20px;
            font-size: 10px;
            font-weight: bold;
            
            color: #000;
            background-color: #fff;
           border-radius: 0px;
           text-overflow: ellipsis;
           white-space: nowrap;
           overflow: hidden;
          font-weight: bold
    
}  
    @media (min-width: 768px) { /* Ajusta este ancho según tus necesidades */
   .actor-item p {
        margin-top: -15px;
            margin-right: 25px; 
            width: 80px;
            height: 20px;
            font-size: 10px;
            font-weight: bold;
            
            color: #000;
            background-color: #fff;
           border-radius: 0px;
           text-overflow: ellipsis;
           white-space: nowrap;
           overflow: hidden;
          font-weight: bold;
    }
}  
          
      
    .movie-info-buttons {
    display: flex;
    margin-top: -120px;
    gap: 10px; /* Espacio entre los botones */
    
            left:0px;
}

@media (min-width: 500px) { /* Ajusta este ancho según tus necesidades */
   .movie-info-buttons {
    display: flex;
    margin-top: -120px;
    gap: 10px; /* Espacio entre los botones */
    
            left:0px;
}
}


  @media (min-width: 1020px) { /* Ajusta este ancho según tus necesidades */
   .movie-info-buttons {
        display: flex;
    margin-top: -240px;
    gap: 10px; /* Espacio entre los botones */
    }
}
  
  
  
.info-button {
    background-color: gold; /* gold o color que prefieras */
    
    left:0px;
    position:relative;
    
    color: #fff;
    border: none;
    border-radius: 15px;
    padding: 5px 15px;
    font-size: 10px;
    cursor: pointer;
    transition: background-color 0.3s;
}
@media (min-width: 500px) {
     .info-button {
    background-color: gold; /* gold o color que prefieras */
    
    left:0px;
    position:relative;
    
    color: #fff;
    border: none;
    border-radius: 15px;
    padding: 5px 15px;
    font-size: 10px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
}
@media (min-width: 1020px) {
      .info-button {
    background-color: gold; /* gold o color que prefieras */
    
    left:0px;
    position:relative;
    
    color: #fff;
    border: none;
    border-radius: 15px;
    padding: 5px 15px;
    font-size: 20px;
    cursor: pointer;
    transition: background-color 0.3s;
}


}

      
      
  .gold-button {
    background-color: gold; /* gold */
}



.red-button {
    background-color: red; /* rojo */
}

    
      
      
   .trailer-button {
    padding: 10px;
    border: none;
    border-radius: 50%;
    background-color: rgba(100, 100, 100, 0.5); /* Gris transparente */
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 20px;
    color: white; /* Cambia a tu preferencia */
    transition: background-color 0.3s ease;
}

.trailer-button:hover {
    background-color: rgba(100, 100, 100, 0.5); /* Efecto hover */
}

.trailer-button.active {
    background-color: #0056b3; /* Azul cuando está activo */
}
        
  
  
 /* Estilos generales para el contenedor de recomendaciones */
#recomendados {
display: flex;
overflow-x: auto;
gap: 10px;
position:relative;
padding: 0px;
background: ;
border-radius: 0px;


}


#recomendados img {
           width: 60px;
            height: 80px;
         border-top-left-radius: 10px;
         border-top-right-radius:10px;
           padding: 5px;
          object-fit: cover;
}

@media (min-width: 768px) { /* Ajusta este ancho según tus necesidades */
   #recomendados img {
        width: 80px;
            height: 100px;
         border-top-left-radius: 10px;
         border-top-right-radius:10px;
           padding: 5px;
          margin-right: 25px; 
          object-fit: cover;
    }
}
  
#recomendados p {
     margin-top: -10px;
            margin-left: 0px;
            width: 60px;
            height: 20px;
            font-size: 10px;
            font-weight: bold;
            
            color: #000;
            background-color: #fff;
           border-radius: 0px;
           text-overflow: ellipsis;
           white-space: nowrap;
           overflow: hidden;
          font-weight: bold;
    
}  
  
@media (min-width: 768px) { /* Ajusta este ancho según tus necesidades */
   #recomendados p {
        margin-top: -5px;
            margin-right: 25px; 
            width: 80px;
            height: 20px;
            font-size: 10px;
            font-weight: bold;
            
            color: #000;
            background-color: #fff;
           border-radius: 0px;
           text-overflow: ellipsis;
           white-space: nowrap;
           overflow: hidden;
          font-weight: bold;
    }
}
  
  
  
  
  
  p5 {
    position:relative;
            
    font-size: 18px; /* Tamaño del texto */
    font-weight: bold; /* Texto en negrita */
    font-family: arial, black ;
    color: #fff; /* Color del texto */
    padding: 0px; /* Espaciado interno */
 
    display: inline-block; /* Para controlar mejor su posición */
  }
  
  /* Estilo para los botones */
p6 {
    position:relative;
            
    left:0;
     font-weight: bold; /* Texto en negrita */
    font-family: arial, black ;
    color: #fff; /* Color del texto */
    padding: 0px; /* Espaciado interno */
 
    display: inline-block; /* Para controlar mejor su posición */
    
}

  
  
  
 

  
/* Contenedor general de los avances */
#advances-slider {
display: flex;
         
            overflow-x: auto;
            gap: 10px;
           position:relative;
           
            padding: 0px;
            background: #007bff;
            border-radius: 0px;
}  






/* Miniatura de cada avance */
.advance-item img {
    width: 100px;
            height: 70px;
         border-top-left-radius: 5px;
         border-top-right-radius: 5px;          padding: 0px;
          object-fit: cover;
}
  
  @media (min-width: 768px) { /* Ajusta este ancho según tus necesidades */
   .advance-item img {
        width: 150px;
            height: 100px;
         border-top-left-radius: 5px;
         border-top-right-radius: 5px;          padding: 0px;
          object-fit: cover;
    }
}
  

/* Enlace al avance */
.advance-item p {
    margin-top: -10px;
            margin-left: 0px;
            width: 100px;
            height: 20px;
            font-size: 10px;
            font-weight: bold;
            padding: 0px;
            color: #000;
            background-color: #fff;
           border-radius: 0px;
           text-overflow: ellipsis;
           white-space: nowrap;
           overflow: hidden;
          font-weight: bold;
}

@media (min-width: 768px) { /* Ajusta este ancho según tus necesidades */
   .advance-item p {
        margin-top: -10px;
            margin-left: 0px; 
            width: 150px;
            height: 20px;
            font-size: 10px;
            font-weight: bold;
            
            color: #000;
            background-color: #fff;
           border-radius: 0px;
           text-overflow: ellipsis;
           white-space: nowrap;
           overflow: hidden;
          font-weight: bold;
    }
}


 #streaming-logo img {
      width: 40px; /* El ancho debe ser igual al alto */
    height: 40px; /* Definir una altura fija */
    border: none;
    border-radius: 50%; /* 50% asegura que sea completamente redondo */
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center; /* Centra el contenido dentro del botón */
    font-size: 12px;
    margin-top: 10px;
     background-color: rgba(128, 128, 128, 0.5); /* Gris con 50% de transparencia */
    color: white;
  
  
  }
@media (min-width: 500px) {
    #streaming-logo img {
      width: 40px; /* El ancho debe ser igual al alto */
    height: 40px; /* Definir una altura fija */
    border: none;
    border-radius: 50%; /* 50% asegura que sea completamente redondo */
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center; /* Centra el contenido dentro del botón */
    font-size: 12px;
    margin-top: 10px;
     background-color: rgba(128, 128, 128, 0.5); /* Gris con 50% de transparencia */
    color: white;
  
  
  }

}


 @media (min-width: 1020px) {
      #streaming-logo img {
      width: 60px; /* El ancho debe ser igual al alto */
    height: 60px; /* Definir una altura fija */
    border: none;
    border-radius: 50%; /* 50% asegura que sea completamente redondo */
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center; /* Centra el contenido dentro del botón */
    font-size: 22px;
    margin-top: 10px;
     background-color: rgba(128, 128, 128, 0.5); /* Gris con 50% de transparencia */
    color: white;
  
  
  }

} 
  
  
  .close-btn51 {

      display: inline-flex;       /* ajusta al tamaño del contenido */
    align-items: center;        /* centra verticalmente si hay padding */
    justify-content: center;    /* centra horizontalmente */
    width: 40px;                /* tamaño del botón */
    height: 40px;               /* tamaño del botón */
    cursor: pointer;
    user-select: none;
    position: relative;         /* para ponerlo arriba a la izquierda */
    top: 0px;
    left: 10px;
    font-size: 28px;            /* tamaño del icono */
    z-index: 5;
    background: rgba(0,0,0,0.3); /* opcional: fondo del botón */
    border-radius: 50%;         /* opcional: redondear */

  } 

@media (min-width: 500px) {
   .close-btn51 {
    display: inline-flex;       /* ajusta al tamaño del contenido */
    align-items: center;        /* centra verticalmente si hay padding */
    justify-content: center;    /* centra horizontalmente */
    width: 40px;                /* tamaño del botón */
    height: 40px;               /* tamaño del botón */
    cursor: pointer;
    user-select: none;
    position: relative;         /* para ponerlo arriba a la izquierda */
    top: 0px;
    left: 10px;
    font-size: 28px;            /* tamaño del icono */
    z-index: 5;
    background: rgba(0,0,0,0.3); /* opcional: fondo del botón */
    border-radius: 50%;         /* opcional: redondear */

    } 
}

  @media (min-width: 1020px) {
   .close-btn51 {
    display: inline-flex;       /* ajusta al tamaño del contenido */
    align-items: center;        /* centra verticalmente si hay padding */
    justify-content: center;    /* centra horizontalmente */
    width: 40px;                /* tamaño del botón */
    height: 40px;               /* tamaño del botón */
    cursor: pointer;
    user-select: none;
    position: relative;         /* para ponerlo arriba a la izquierda */
    top: 0px;
    left: 10px;
    font-size: 28px;            /* tamaño del icono */
    z-index: 5;
    background: rgba(0,0,0,0.3); /* opcional: fondo del botón */
    border-radius: 50%;         /* opcional: redondear */

    } 
}
  
  .overlay51 {
    position: fixed; /* Fija el overlay en toda la pantalla */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #f00; /* Oscurece el fondo */
    z-index: 998; /* Se asegura de que esté por encima de otros elementos */
    display: none; /* Se muestra solo cuando el popup se abre */
}



 #popup-container52 {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #333;
    padding: 20px;
    border-radius: 10px;
    z-index: 1003;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    text-align: center;
}

.close-popup52 {
    position: absolute;
    top: 5px; /* Posición desde la parte superior */
    left: 10px; /* Posición desde la izquierda */
    font-size: 20px;
    font-weight: bold;
    cursor: pointer;
}
  
   #popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 1002;
}
  
  
  
 .countdown {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #333;
        color: #fff;
        width: 310px;
        height: 310px;
        font-size: 24px;
        padding: 10px;
        border-radius: 10px;
        text-align: center;
        z-index: 1001;
    }
  
  @media (min-width: 500px) {
      
      .countdown {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #333;
        color: #fff;
        width: 210px;
        height: 210px;
        font-size: 24px;
        padding: 10px;
        border-radius: 10px;
        text-align: center;
        z-index: 1001;
          }
      
      
      }  
      
    
    @media (min-width: 1020px) {
      
        .countdown {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #333;
        color: #fff;
        width: 410px;
        height: 410px;
        font-size: 24px;
        padding: 10px;
        border-radius: 10px;
        text-align: center;
        z-index: 1001;
            }
      
      
      }
     
    
    
    
  .countdown p {
    margin: 5px 0;
    
    
}

.countdown p:first-of-type {
    font-size: 2em;
    font-weight: bold;
}

.countdown p:last-of-type {
    font-size: 1em;
    color: #fff;
    font-family: Arial;
font-style: normal; /* Esto asegura que no sea cursiva */

}

/* Estilos para el overlay */
.overlay88 {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}  
  
      
 /* Estilos CSS */

.popup8 {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #000;
    border: px solid #ccc;
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
    border-radius: 0px;
    z-index:1001;
    width: 100%;
    height: 100%;
    overflow-y: auto;
    text-align: center;
}

.popup-content {
    
    height: 100%;
            overflow-y: auto;
            padding: 0px;
}


  

    
    
  
    
    
 .close-button14 {
    color: #000;
    position:fixed;
    bottom: 10px; /* Alineado a la parte inferior */
    right: 10px;  /* Alineado a la derecha */
    width: 80px; /* Ajusta este valor para el ancho deseado */
    height: 30px; /* Ajusta este valor para el alto deseado */
    margin: 5px;
    padding: 5px 0; /* Ajuste del padding superior e inferior */
    background-color: #fff;
    color: #000;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    font-size: 15px; /* Ajusta el tamaño de la fuente según lo desees */
    text-align: center; /* Centra el texto dentro del botón */
    line-height: 0px; /* Centrar verticalmente el texto, ajustar según el alto */
    white-space: nowrap; /* Evita que el texto se rompa en varias líneas */
}
  
    
    

.close-button i {
    cursor: pointer;
}

.close-button:hover,
.close-button:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
}

 


    
    

    
  /* General styles for modals */
.modal {
    display: none;
    position: fixed;
    top: -20px;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
    z-index: 1005;
}

 
  
/* Container for modal content */
.modal-content {
    background: #333;
    color: #fff;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    max-width: 400px;
    width: 90%;
  
}

  
  
/* Modal buttons */
.modal-button {
    margin: 10px;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    color: #fff;
}

.modal-button.yes {
    background-color: #4CAF50;
}

.modal-button.no, 
.modal-button.close {
    background-color: #f44336;
}

/* Download link */
.modal-download-link {
    display: inline-block;
    margin: 10px auto;
    padding: 10px 20px;
    background-color: #4CAF50;
    color: #fff;
    text-decoration: none;
    border-radius: 5px;
}
 
 
  
  /* Estilos para el popup del tráiler */
.trailer-popup1 {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #333; /* Fondo oscuro */
    padding: 0px;
    border-radius: 0px;
    z-index: 1005; /* Más alto que el overlay */
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
    
    display: flex;
    width: 100%;
    height: 100%;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}


  
 
  .close-button88 {
  position: absolute;
  width: 100px;
  bottom: 10px;
  right: 10px;
  background: #fff;
  color: #000;
  border: none;
  border-radius: 5px;
  padding: 10px;
  cursor: pointer;
  font-size: 14px;
}  

       
      
   #contenedorseguir {
    
    position:fixed;
    bottom: 0px; /* Alineado a la parte inferior */
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 20px;
    border: 1px solid #fff;
    border-radius: 10px;
    background-color: #333;
    color:#fff;
    z-index:990;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    width: 300px;
}

@media (min-width: 500px) {
  
    #contenedorseguir {
    
    position:fixed;
    bottom: 0px; /* Alineado a la parte inferior */
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 20px;
    border: 1px solid #fff;
    border-radius: 10px;
    background-color: #000;
    color:#fff;
    z-index:990;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    width: 300px;
}
  
  
  }
      
      
 @media (min-width: 1020px) {
       #contenedorseguir {
    
    position:fixed;
    bottom: 0px; /* Alineado a la parte inferior */
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 20px;
    border: 1px solid #fff;
    border-radius: 10px;
    background-color: #000;
    color:#fff;
    z-index:990;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    width: 500px;
}
   
   }


#popup-content {
    display: flex;
    align-items: flex-start;
}

#popup-image {
    width: 50px;
    margin-right: 15px;
    border-radius: 5px;
}
@media (min-width: 500px) {
     #popup-image {
    width: 50px;
    margin-right: 15px;
    border-radius: 5px;
}
}


@media (min-width: 1020px) {
#popup-image {
    width: 100px;
    margin-right: 15px;
    border-radius: 5px;
}

}


#popup-info {
    display: flex;
    flex-direction: column;
}

#popup-title {
    margin: 0 0 10px;
    font-size: 16px;
    font-weight: bold;
}

@media (min-width: 500px) {
     #popup-title {
    margin: 0 0 10px;
    font-size: 16px;
    font-weight: bold;
   }
}

@media (min-width: 1020px) {
     #popup-title {
    margin: 0 0 10px;
    font-size: 25px;
    font-weight: bold;
}

}

#popup-buttons {
    display: flex;
    gap: 10px;
}

#popup-buttons button {
    padding: 5px 10px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    background-color: #007bff;
    color: #fff;
}

@media (min-width: 500px) {
  #popup-buttons button {
    padding: 5px 10px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    background-color: #007bff;
    color: #fff;
}

}


@media (min-width: 1020px) {
      #popup-buttons button {
    padding: 10px 20px;
    font-size: 25px;
    margin-left:10px;
    margin-top:20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    background-color: #007bff;
    color: #fff;
   }

}


#popup-buttons button:hover {
    background-color: #0056b3;
} 
      
/* Overlay */
.overlay-okru {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1007; /* Asegura que el overlay esté encima de otros contenidos */
    display: none; /* Inicialmente oculto */
}

/* Popup */
.popup-okru {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #333;
    padding: 20px;
    border-radius: 10px;
    z-index: 1008;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    text-align: center;
}

/* Contenedor del iframe */
.iframe-container-okru {
    width: 100%;
    height: 100%;
            display: block;
            margin: 20px auto;
}

/* Estilo para el iframe */
.iframe-okru {
    width: 250px;
    height: 250px;
    border: none;
}

      
 @media (min-width: 768px) { /* Ajusta este ancho según tus necesidades */
   .iframe-okru {
        width: 600px;
    height: 250px;
    border: none;
    }
}    
      
      
      
/* Estilo para el ícono de la flecha (botón de cierre) */
.close-arrow-okru {
    position: absolute;
    top: 5px; /* Posición desde la parte superior */
    left: 10px; /* Posición desde la izquierda */
    font-size: 20px;
    font-weight: bold;
    cursor: pointer;
}

/* Puedes añadir un efecto hover para el icono de flecha si deseas */
.close-arrow-okru:hover {
    color: #f44336;
}      
      
      
 
#uq-buttons1 { position: relative; display:flex; justify-content:center; top:120px; margin:15px 0; flex-wrap:wrap;
z-index:99999;
left:50%;
 }

    .uq-btn1 { background:#007bff; color:#fff; border:none; padding:10px 20px; border-radius:6px; cursor:pointer; font-size:14px; font-weight:500; transition:all 0.3s ease; }

.uq-btn1:hover { background:#0056b3; }


.popup4 {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #007bff;
    color: #fff;
    padding: 20px;
    z-index: 1002;
    text-align: center;
    width: 100%;
    height: 100%;
    border-radius: 10px;
}

#savedFavoritosLists1 {
    width: 95%;
    height: 95%;
    padding: 10px;
    display: flex;
    
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    overflow-y: auto; /* Añadir desplazamiento vertical si es necesario */
}

#savedFavoritosLists1 button {
    width: calc(33.33%); /* Restar 10px para dejar espacio entre los botones */
    
  
}
    


#savedFavoritosLists1 img:hover {
    border-radius: 5px; /* Asegurarse de mantener el radio de borde */
    border: 2px solid #00BFFF; /* Cambiar el color del borde a azul */
}
    
#savedFavoritosLists1  img:focus {
    border-radius: 5px; /* Asegurarse de mantener el radio de borde */
    border: 2px solid #00BFFF; /* Cambiar el color del borde a azul */
} 
    
    
#savedFavoritosLists1  img:hover {
        transform: scale(1.05);
    }     
    
#savedFavoritosLists1  img:focus {
        transform: scale(1.05);
    }        
 
      
   .popup-content2 {
        overflow-y: auto; /* Asegura que el contenido haga scroll y no el botón */
        height: 500px; /* Altura máxima del contenido. Ajusta según tus necesidades */
    }
      
#cerrarFavoritos {
        display: inline-flex;       /* ajusta al tamaño del contenido */
    align-items: center;        /* centra verticalmente si hay padding */
    justify-content: center;    /* centra horizontalmente */
    width: 40px;                /* tamaño del botón */
    height: 40px;               /* tamaño del botón */
    cursor: pointer;
    user-select: none;
    position:absolute;         /* para ponerlo arriba a la izquierda */
    top: 20px;
    left: 20px;
    font-size: 28px;            /* tamaño del icono */
    z-index: 5;
    background: rgba(0,0,0,0.3); /* opcional: fondo del botón */
    border-radius: 50%;         /* opcional: redondear */

    }
        
 .popup5 {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #007bff;
    color: #fff;
    padding: 20px;
    z-index: 998;
    text-align: center;
    width: 100%;
    height: 100%;
    border-radius: 10px;
}

#savedVistosLists1 {
    width: 95%;
    height: 95%;
    padding: 10px;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    overflow-y: auto; /* Añadir desplazamiento vertical si es necesario */
}

#savedVistosLists1 button {
    width: calc(33.33%); /* Restar 10px para dejar espacio entre los botones */
    
  
}


#savedVistosLists1 img:hover {
    border-radius: 5px; /* Asegurarse de mantener el radio de borde */
    border: 2px solid #00BFFF; /* Cambiar el color del borde a azul */
}
    
#savedVistosLists1  img:focus {
    border-radius: 5px; /* Asegurarse de mantener el radio de borde */
    border: 2px solid #00BFFF; /* Cambiar el color del borde a azul */
} 
    
    
#savedVistosLists1  img:hover {
        transform: scale(1.05);
    }     
    
#savedVistosLists1  img:focus {
        transform: scale(1.05);
    }        
   
  
  
  

    #cerrarVistos {
        
     display: inline-flex;       /* ajusta al tamaño del contenido */
    align-items: center;        /* centra verticalmente si hay padding */
    justify-content: center;    /* centra horizontalmente */
    width: 40px;                /* tamaño del botón */
    height: 40px;               /* tamaño del botón */
    cursor: pointer;
    user-select: none;
    position:absolute;         /* para ponerlo arriba a la izquierda */
    top: 20px;
    left: 20px;
    font-size: 28px;            /* tamaño del icono */
    z-index: 5;
    background: rgba(0,0,0,0.3); /* opcional: fondo del botón */
    border-radius: 50%;         /* opcional: redondear */

    }
      
      
   .popup-content3 {
        overflow-y: auto; /* Asegura que el contenido haga scroll y no el botón */
        height: 500px; /* Altura máxima del contenido. Ajusta según tus necesidades */
    }
 
  
  
 #savedPlaylists {
     position: relative;
  display: flex;
  top:-10px;
  left:80px;
  background: #007bff;
  flex-wrap: wrap;            /* Que bajen si no caben */
  justify-content: flex-start;/* Que inicien desde la izquierda */
  align-items: flex-start;    /* Que se alineen arriba */
  width: 100%;                /* Ocupa todo el ancho */
 z-index: 1; 
  box-sizing: border-box;     /* Incluye padding en el ancho */
  padding: 0px;              /* Espacio interno */
  margin: 0;                  /* Quitar márgenes externos */
}
}

 .list-item {
    
    margin-right: 10px; /* Espacio entre botones */
    white-space: nowrap; /* Evitar que los botones se rompan */
    background-color: #333; /* Color de fondo transparente*/
    color: #fff; /* Color de texto blanco */
  padding: 1px 1px; /* Espaciado interno */
  
    border: none; /* Eliminar borde */
    
    cursor: pointer; /* Cambiar el cursor al pasar */
    transition: border-bottom 0.1s ease; /* Transición suave solo para el borde inferior */
  border: 2px solid transparent;
  
  
}

@media (min-width: 500px) { 
     .list-item {
    
    margin-right: 10px; /* Espacio entre botones */
    white-space: nowrap; /* Evitar que los botones se rompan */
    background-color: #007bff; /* Color de fondo transparente*/
    color: #fff; /* Color de texto blanco */
  
  padding: 1px 1px; /* Espaciado interno */
    border: none; /* Eliminar borde */
    
    cursor: pointer; /* Cambiar el cursor al pasar */
    transition: border-bottom 0.1s ease; /* Transición suave solo para el borde inferior */
  border: 2px solid transparent;
  
  
   }
}

@media (min-width: 1020px) { 
   .list-item {
    font-size: 35px;
    margin-right: 30px; /* Espacio entre botones */
    white-space: nowrap; /* Evitar que los botones se rompan */
    background-color: #007bff; /* Color de fondo transparente*/
    color: #fff; /* Color de texto blanco */
  padding: 1px 1px; /* Espaciado interno */
  
    border: none; /* Eliminar borde */
    
    cursor: pointer; /* Cambiar el cursor al pasar */
    transition: border-bottom 0.1s ease; /* Transición suave solo para el borde inferior */
  border: 2px solid transparent;
  
  }

}
 
.list-item button {
    background-color: blue;
    color: #fff;
    border: none;
    margin-top:-30px;
    border-radius: 5px;
    padding: 4px 4px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}
@media (min-width: 500px) { 

     .list-item button {
    background-color: blue;
    color: #fff;
    border: none;
    margin-top:-30px;
    border-radius: 5px;
    padding: 4px 4px;
    cursor: pointer;
    transition: background-color 0.3s ease;
   }

}

@media (min-width: 1020px) { 
.list-item button {
    background-color: blue;
    color: #fff;
    border: none;
    margin-top:-30px;
    border-radius: 5px;
    padding: 4px 4px;
    cursor: pointer;
    transition: background-color 0.3s ease;
   }


}

.list-item button:last-child {
    background-color: blue;
    
    
}
  @media (min-width: 500px) { 

.list-item button:last-child {
    background-color: blue;
    font-size: 20px;
    
  }

}

@media (min-width: 1020px) { 
.list-item button:last-child {
    background-color: blue;
    font-size: 30px;
    
   }
}
      
#popupbuscar {  
  position: fixed;  
  inset: 0;  
  width: 100%;  
  height: 100%;  
  background: #007bff;  
  display: none;  
    
    
}  
  
.leftSection {  
  width: 30%;
  height: 100%;
  background: #007bff;  
  border-right: 2px solid white;  
  padding: 5px;  
  display: flex;  
  flex-direction: column;  
  box-sizing: border-box;  
}  
  
.rightSection {  
  width: 70%;  
  background: #007bff;  
}  
  
#closebuscar {  
   font-size: 32px;  
  color: white;  
  cursor: pointer;  
  margin-bottom: 10px;   
}  
  
#searchInput {  
  width: 100%;  
  font-size: 10px;  
  padding: 5px;  
  background: #fff;  
  color: #000;  
  border: 1px solid white;  
  box-sizing: border-box;  
  flex: 0 0 auto; /* evita que se estire */
  caret-color: #000;  /* CURSOR VISIBLE */  
  outline: none;  
}  
  




/* Estilos del buscador */ 
      
  #search-overlay { 
    position: fixed;  
  inset: 0;  
  width: 100%;  
  height: 100%;  
  background: #007bff;  
  display: none;  
      
      }

#search-container {
    width: 30%;
  height: 100%;
  background: #007bff;  
  border-right: 2px solid white;  
  padding: 5px;  
  display: flex;  
  flex-direction: column;  
  box-sizing: border-box;  
}
      
      
 
#search-input {
    width: 100%;  
   margin-top: 50px;
  font-size: 10px;  
  padding: 5px;  
  background: #fff;  
  color: #000;  
  border: 1px solid white;  
  box-sizing: border-box;  
  flex: 0 0 auto; /* evita que se estire */
  caret-color: #000;  /* CURSOR VISIBLE */  
  outline: none;  
}

#clear-search {
    font-size: 32px;  
  color: white;  
  cursor: pointer;  
  margin-bottom: 10px;
}


.keyboard {
  flex: 1 1 auto;
  height: 80%;
  display: grid;
  grid-template-columns: repeat(auto-fill, 25px);
  gap: 2px;
  margin-top: 10px;
}
  
.keyboard button {  
  padding: 0px;  
  height: 80%;
  background: #333;  
  color: white;  
  border: none;  
  border-radius: 6px;  
  font-size: 15px;  
  cursor: pointer;  
}  
  
.keyboard button:active { background: #555; }      

/* Si quieres, también puedes darle tamaño a los iconos especiales en teclado */
.keyboard button span.material-icons {
  font-size: 15px; /* ajusta según prefieras */
}





#search-results {
    width: 90%;
    
    overflow-y: auto;
}


  .channel-container1 {
        text-align: center;
        width: calc(33.33% - 10px);
        float: left;
       margin: 0 5px 20px;
    }
    
    .channel-container1 p {
        margin: 5px;
        font-size: 10px;
    }
      
      
    

/* Solo cuando la pantalla sea grande, tipo monitor 24 pulgadas o más */
@media (min-width: 1020px) {
    .channel-container1 p {
        margin: 5px;
        font-size: 20px;
    }
}
     
      
      
      
      
    /* Solo cuando el dispositivo esté en modo horizontal (ideal para móviles) */
@media (min-width: 500px) {
    .channel-container1 {
        width: calc(20% - 10px); /* Ajuste para móviles en horizontal */
    }
}

/* Solo cuando la pantalla sea grande, tipo monitor 24 pulgadas o más */
@media (min-width: 1020px) {
    .channel-container1 {
        width: calc(14.28% - 10px); /* Ajuste para pantallas grandes */
    }
}
    
      
    
   .channel-container1 img {
    margin-top:20px;
     
    height: 130px;
    width: 90px;
    border-radius: 0px;
    border: 3px solid transparent; 
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    transition: transform 0.3s ease, border-radius 0.3s ease; /* Agregado el border-radius a la transición */
}

      
/* Ajuste solo para móviles en modo horizontal */
@media (min-width: 500px) {
    .channel-container1 img {
        margin-top:20px;
     
    height: 130px;
    width: 90px;
    border-radius: 0px;
    border: 3px solid transparent; 
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    transition: transform 0.3s ease, border-radius 0.3s ease; /* Agregado el border-radius a la transición */
    }
}
      
      
  @media (min-width: 1020px) {
        .channel-container1 img {
    margin-top:20px;
     
    height: 200px;
    width: 130px;
    border-radius: 0px;
    border: 3px solid transparent; 
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    transition: transform 0.3s ease, border-radius 0.3s ease; /* Agregado el border-radius a la transición */
}
    } 
      
      
      
      
.channel-container1 img:hover {
    border-radius: 0px;
    border: 3px solid #00BFFF; !important; /* Asegurarse de que el borde azul se aplique */
}
    
    .channel-container1 img:hover {
        transform: scale(1.05);
    }

#close-search {
    display: inline-flex;       /* ajusta al tamaño del contenido */
    align-items: center;        /* centra verticalmente si hay padding */
    justify-content: center;    /* centra horizontalmente */
    width: 40px;                /* tamaño del botón */
    height: 40px;               /* tamaño del botón */
    cursor: pointer;
    user-select: none;
    position:absolute;         /* para ponerlo arriba a la izquierda */
    top: 5px;
    left: 5px;
    font-size: 28px;            /* tamaño del icono */
    z-index: 5;
    background: rgba(0,0,0,0.3); /* opcional: fondo del botón */
    border-radius: 50%;         /* opcional: redondear */

}


     
     




</style>

</head>
  
<body>

 <html lang="en" translate="no"> 
  
<!-- Overlay --> 
  
  <div id="overlay">
  <div class="overlayContent">
    <button id="startButton" tabindex="0">Iniciar</button>
    
  </div>
</div>
  
 <!-- Contenedor principal --> 
  
  <div id="appContainer">  
  <!-- Iconos -->  
  <div id="topRightIcons">  
    <!-- Cambiamos id a searchIcon -->
<button id="searchIcon" tabindex="0"><span class="material-icons">search</span></button>


    <button id="favoritos" tabindex="0"><span class="material-icons">star</span></button>  
    <button id="Vistos" tabindex="0"><span class="material-icons">schedule</span></button>  

<button id="RefrescarIcon" tabindex="0"><span class="material-icons">restart_alt</span></button>

    <button data-category="RECIENTES" onclick="openCategoryFromImage(this)">
  <span class="material-icons">menu</span>
</button>
    

  </div>    

<!-- Popup de favoritos -->
<div id="popupFavoritos" class="popup4">
   
        <div id="savedFavoritosLists1">
        <!-- Aquí se generan dinámicamente las películas favoritas -->
    
    </div>
    <span id="cerrarFavoritos" class="cerrar3"><i class="fas fa-arrow-left"></i></span>
</div>
  
 <div id="popupVistos" class="popup5">
    <div class="popup-content3">
        <div id="savedVistosLists1">
        <!-- Aquí se generan dinámicamente las películas vistas -->
    </div>
    </div>
    <span id="cerrarVistos" class="cerrar4"><i class="fas fa-arrow-left"></i></span>
</div>



<div id="input-container" style="display: none;">
        <input type="text" id="m3uInput" placeholder="Ingresa la URL de la lista M3U">
        <button id="load-btn">Cargar</button>
    </div>




   
  
    
    <!-- Categorías -->      
  <div id="categoryContainer">    
    
    
    <button class="category" tabindex="0">TV</button>   
    
    
    <button class="category selected" tabindex="0">PELICULAS</button>    
    <button class="category" tabindex="0">KIDS</button>    
    <button class="category" tabindex="0">ANIME</button>    
  </div>      
    
    
  
 <!-- CARRUSEL -->
<div id="carouselContainer">
  <div id="carouselSlides">

    <div class="carouselSlide" onclick="openManualChannel('https://media.themoviedb.org/t/p/w1000_and_h563_face/9sj7sBK5fI7HwECOmSbpBgcYNbC.jpg', 'Good Boy', '1422096', 'https://uqload.bz/embed-urpkzr1whzn.html')">
      <img src="https://media.themoviedb.org/t/p/w1000_and_h563_face/9sj7sBK5fI7HwECOmSbpBgcYNbC.jpg" alt="Good Boy">
      
    </div>

    <div class="carouselSlide" onclick="openManualChannel('https://media.themoviedb.org/t/p/w1000_and_h563_face/fpPFrlZI7h59u20xnm6UELHe1C.jpg', 'Juego Sucio', '941109', 'https://uqload.bz/embed-fr4mp3p3lqfm.html')">
      <img src="https://media.themoviedb.org/t/p/w1000_and_h563_face/fpPFrlZI7h59u20xnm6UELHe1C.jpg" alt="Juego Sucio">
      
    </div>

<div class="carouselSlide" onclick="openManualChannel('https://media.themoviedb.org/t/p/w1000_and_h563_face/wxHgFWVxmbrpWTXDZpmcCzYw1hj.jpg', 'Downton Abbey: El gran final', '1289936', 'https://uqload.bz/embed-eh06x47wj671.html')">
      <img src="https://media.themoviedb.org/t/p/w1000_and_h563_face/wxHgFWVxmbrpWTXDZpmcCzYw1hj.jpg" alt="Downton Abbey: El gran final">
      
    </div>

<div class="carouselSlide" onclick="openManualChannel('https://media.themoviedb.org/t/p/w1000_and_h563_face/9UoMn7BUsrs8yQ7J17wVKTG92M1.jpg', 'Animales Peligrosos', '1285965', 'https://uqload.bz/embed-zxn9diy4jt6z.html')">
      <img src="https://media.themoviedb.org/t/p/w1000_and_h563_face/9UoMn7BUsrs8yQ7J17wVKTG92M1.jpg" alt="Animales Peligrosos">
      
    </div>
</div>
  
 
  
    <div id="carouselDots">  
      <span class="dot active"></span>  
      <span class="dot"></span>
      <span class="dot"></span>
      <span class="dot"></span>    
       
    </div>  
  </div>   
  
  
 <!-- CONTENEDOR INFERIOR -->
<div id="bottomContainers">
  <div class="bottomContainer" 
       data-category="RECIENTES"
       onclick="openCategoryFromImage(this)">
    <img src="https://media.themoviedb.org/t/p/w1000_and_h563_face/7Zx3wDG5bBtcfk8lcnCWDOLM4Y4.jpg" alt="Recientes">
    <div class="bottomTitle">RECIENTES</div>
  </div>

  <div class="bottomContainer" 
       data-category="COMEDIA"
       onclick="openCategoryFromImage(this)">
    <img src="https://image.tmdb.org/t/p/original/c2dPK558peXs9QzacwzHYQqqS2r.jpg" alt="Comedia">
    <div class="bottomTitle">COMEDIA</div>
  </div>

  <div class="bottomContainer" 
       data-category="DRAMA"
       onclick="openCategoryFromImage(this)">
    <img src="https://image.tmdb.org/t/p/original/r0kZNywAeN6Ar75rxDqLlTP5RiJ.jpg" alt="Drama">
    <div class="bottomTitle">DRAMA</div>
  </div>

  <div class="bottomContainer" 
       data-category="TERROR"
       onclick="openCategoryFromImage(this)">
    <img src="https://image.tmdb.org/t/p/original/GNeuKnbZRZj5JhKfnJOPyKJuVA.jpg" alt="Terror">
    <div class="bottomTitle">TERROR</div>
  </div>
</div>
    
    
    


  
 <!-- Contenedor derecho -->
<div id="rightContainers">
  <div class="rightContainer" 
       onclick="openManualChannel('https://media.themoviedb.org/t/p/w440_and_h660_face/7ML1ZEpWjR8IKEb2wpK3k4KMvhK.jpg', 'Las Ratas: Una historia de The Witcher', '1571470', 'https://uqload.bz/embed-gg4onu7nrhq0.html')">
    <img src="https://media.themoviedb.org/t/p/w440_and_h660_face/7ML1ZEpWjR8IKEb2wpK3k4KMvhK.jpg" alt="Las Ratas: Una historia de The Witcher">
  </div>

  <div class="rightContainer" 
       onclick="openManualChannel('https://media.themoviedb.org/t/p/w440_and_h660_face/zzNvTbblTCKgBiDFCO86nMaKkSt.jpg', 'Frankenstein', '1062722', 'https://uqload.bz/embed-m7xa5rwq99t8.html')">
    <img src="https://media.themoviedb.org/t/p/w440_and_h660_face/zzNvTbblTCKgBiDFCO86nMaKkSt.jpg" alt="Frankenstein">
  </div>
</div>
    
  
    
    
    <div id="animeContainers1" class="hidden">
    
    
    <div class="animeContainer1" 
       onclick="openManualChannel('https://image.tmdb.org/t/p/w500/laXrmaTRuroArSPfsGlvTbeWxVA.jpg', 'El Viaje De Chihiro', '129', 'https://uqload.bz/embed-bu48jlfdfm1o.html')">
    <img src="https://image.tmdb.org/t/p/w500/laXrmaTRuroArSPfsGlvTbeWxVA.jpg" alt="El Viaje De Chihiro">
  </div>
    
    <div class="animeContainer1" 
       onclick="openManualChannel('https://image.tmdb.org/t/p/w500/juKTAn2AuoE9MvCNvf3kwZrt1t4.jpg', 'La Tumba De Las Luciérnagas', '12477', 'https://uqload.bz/embed-nqhdm3z6hojo.html')">
    <img src="https://image.tmdb.org/t/p/w500/juKTAn2AuoE9MvCNvf3kwZrt1t4.jpg" alt="La Tumba De Las Luciérnagas">
  </div>  
      
      
      
     <div class="animeContainer1" 
       onclick="openManualChannel('https://image.tmdb.org/t/p/w500/vjPt8HYymLOkRv82x9JwVO7M2a5.jpg', 'Akira', '149', 'https://uqload.bz/embed-gwd4sc4j0lyt.html')">
    <img src="https://image.tmdb.org/t/p/w500/vjPt8HYymLOkRv82x9JwVO7M2a5.jpg" alt="Akira">
  </div>
      
      
    </div>  
      
    
    
   <div id="animeContainers2" class="hidden">
    
    <div class="animeContainer2" 
       data-category="ANIME"
       onclick="openCategoryFromImage(this)">
    <img src="https://media.themoviedb.org/t/p/w1000_and_h563_face/7Zx3wDG5bBtcfk8lcnCWDOLM4Y4.jpg" alt="Recientes">
  
  <div class="bottomTitle">TODO</div>
  </div>
     
     
     <div class="animeContainer2" 
       onclick="openManualChannel('https://image.tmdb.org/t/p/original/mDZwWCjqvPSiustlYUFFhrbT4RR.jpg', 'Dragon Ball: La bella durmiente en el castillo del mal ', '39145', 'https://uqload.bz/embed-hyairo6yjfmo.html')">
    <img src="https://image.tmdb.org/t/p/original/mDZwWCjqvPSiustlYUFFhrbT4RR.jpg" alt="Dragon Ball: La bella durmiente en el castillo del mal ">
  </div>
     
    
    </div>
    
   
    
<div id="kidsContainers1" class="hidden">

  <div id="kidsCarouselContainer">
    
    <div id="kidsCarouselSlides">
      <!-- EJEMPLO DE ELEMENTOS DEL CARRUSEL DE KIDS -->
      <div class="kidsSlide" onclick="openManualChannel('https://image.tmdb.org/t/p/original/eFIne7JPKpLwi8HYTZQM0q6rbvz.jpg', 'El rey león', '8587', 'https://uqload.bz/embed-5x6c4hwe183o.html')">
        <img src="https://image.tmdb.org/t/p/original/eFIne7JPKpLwi8HYTZQM0q6rbvz.jpg" alt="El rey león">
      </div>

      <div class="kidsSlide" onclick="openManualChannel('https://image.tmdb.org/t/p/original/vYSaaBbI2JScbCiD4PvByPbmPYz.jpg', 'Robot Salvaje', '1184918', 'https://uqload.bz/embed-b89wasb2ct0q.html')">
        <img src="https://image.tmdb.org/t/p/original/vYSaaBbI2JScbCiD4PvByPbmPYz.jpg" alt="Robot Salvaje">
      </div>

      <div class="kidsSlide" onclick="openManualChannel('https://image.tmdb.org/t/p/original/brIiy2d2nAe4VVqFzlMnlFQVD42.jpg', 'Kung Fu Panda', '9502', 'https://uqload.bz/embed-lrfgmekzkr5m.html')">
        <img src="https://image.tmdb.org/t/p/original/brIiy2d2nAe4VVqFzlMnlFQVD42.jpg" alt="Kung Fu Panda">
      </div>
      
      
     <div class="kidsSlide" onclick="openManualChannel('https://image.tmdb.org/t/p/original/i6NHT3k9CunXRCnlNyjm2bkuanN.jpg', 'Coco', '354912', 'https://uqload.bz/embed-vi8upckgckf7.html')">
        <img src="https://image.tmdb.org/t/p/original/i6NHT3k9CunXRCnlNyjm2bkuanN.jpg" alt="Coco">
      </div>
      
      
      
    </div>

    <div id="kidsCarouselDots">
      <span class="kidsDot active"></span>
      <span class="kidsDot"></span>
      <span class="kidsDot"></span>
      <span class="kidsDot"></span>
    </div>

  </div>

</div>   
    
   
  <div id="kidsContainers2" class="hidden">   
    <div class="kidsContainer2" data-category="ANIMACION"
       onclick="openCategoryFromImage(this)">
    <img src="https://media.themoviedb.org/t/p/w1000_and_h563_face/7Zx3wDG5bBtcfk8lcnCWDOLM4Y4.jpg" alt="ANIMACION">
  
  <div class="bottomTitle">TODO</div>
    </div>
    
    
    <div class="kidsContainer2" onclick="openManualChannel('https://image.tmdb.org/t/p/original/jZtA0hmQqUO6ALkM2F5IOxSS64o.jpg', 'Gru 4 Mi Villano Favorito', '519182', 'https://uqload.bz/embed-92q0djwp9zov.html')">
    <img src="https://image.tmdb.org/t/p/original/jZtA0hmQqUO6ALkM2F5IOxSS64o.jpg" alt="Gru 4 Mi Villano Favorito">
    </div>
    
    
    
    
    </div>
    
    
    
     <div id="kidsContainers3" class="hidden">
    
    <div class="kidsContainer3" onclick="openManualChannel('https://image.tmdb.org/t/p/original/zgpcll3OT8GWKh4VEicGPR9rxoh.jpg', 'Polar Express', '5255', 'https://uqload.bz/embed-zqwp3ep06wph.html')">
    <img src="https://image.tmdb.org/t/p/original/zgpcll3OT8GWKh4VEicGPR9rxoh.jpg" alt="Polar Express">
    </div>
    
    
    <div class="kidsContainer3" onclick="openManualChannel('https://image.tmdb.org/t/p/original/yn27Rxrw1sWClNA0Wt8QKLfy0F.jpg', 'Los Tres Cerditos', '34463', 'https://uqload.bz/embed-jbt118fi9864.html')">
    <img src="https://image.tmdb.org/t/p/original/yn27Rxrw1sWClNA0Wt8QKLfy0F.jpg" alt="Los Tres Cerditos">
    </div>
    
       
    </div>
    
    
    
    
    <div id="kidsContainers4" class="hidden">
    
      
      <div class="kidsContainer4" onclick="openManualChannel('https://image.tmdb.org/t/p/original/nVhlmU9eJWPWSaBZtWjqWUdqaSx.jpg', 'Plankton, la pelicula', '1104845', 'https://uqload.bz/embed-k7skutj4fpmd.html')">
    <img src="https://image.tmdb.org/t/p/original/nVhlmU9eJWPWSaBZtWjqWUdqaSx.jpg" alt="Plankton, la pelicula">
    </div>
      
      
      </div>
    
    
    
    <div id="kidsContainers5" class="hidden">
    
    
    <div class="kidsContainer5" onclick="openManualChannel('https://image.tmdb.org/t/p/original/zQCn3Po1WW3RLvFpCD4mxewPRJ3.jpg', 'Klaus', '508965', 'https://uqload.bz/embed-zq9ng2vufq7c.html')">
    <img src="https://image.tmdb.org/t/p/original/zQCn3Po1WW3RLvFpCD4mxewPRJ3.jpg" alt="Klaus">
    </div>
    
      <div class="kidsContainer5" onclick="openManualChannel('https://image.tmdb.org/t/p/original/kpzDQtFbw3dWoFxabydK9tlvWJm.jpg', 'Corazon De Fuego', '778810', 'https://uqload.bz/embed-9tuvj4sy3wju.html')">
    <img src="https://image.tmdb.org/t/p/original/kpzDQtFbw3dWoFxabydK9tlvWJm.jpg" alt="Corazon De Fuego">
    </div>
      
      
    </div>  
      
      
      
      <div id="tvContainers1" class="hidden">
    
      <div class="tvContainer1">
        <div id="categoryButtons2"></div>

        
        
        </div>
        
        
      <div class="tvContainer2">
    
    <div id="playlistContainer2">
        </div>
        
        
       
</div>
        
        <div class="tvContainer3">
    
    
        <div id="Linkstv"></div>
        
       
</div>
        
        
        
        
       <div class="tvContainer4"> 
        
        
         
        
   <iframe id="Playertv" allow="autoplay *; encrypted-media *;" sandbox="allow-same-origin allow-scripts" src="" name="iframe1"  frameborder="0" scrolling="no" allowfullscreen></iframe>
         
         
         
        </div>
   
    </div>
    
    
    
        
        
        
        

<!-- POPUP DEL REPRODUCTOR -->
<div id="pelis" class="popuppelis" style="display:none;">
  <!-- Encabezado con flecha -->
  
    <span id="closepelis" class="material-icons">arrow_back</span>
  
<div id="savedPlaylists">
            <!-- Aquí se generan dinámicamente los botones para las listas guardadas -->
        </div>


  <!-- Botones de categorías -->
  <div id="categoryButtons">
    <!-- Aquí se generan las categorías dinámicamente -->
  </div>

  <!-- Contenedor de playlist -->
  <div id="playlistContainer1" tabindex="0">
    <!-- Aquí se generará el contenido dinámico -->
  </div>

</div>
   
    
        
        
        
    
  
 <!-- Overlay -->
<div class="overlay-okru" style="display: none;"></div>

<!-- Popup para mostrar el iframe -->
<div class="popup-okru" style="display: none;">
    <!-- Icono de la flecha para cerrar -->
    <i class="fas fa-arrow-left close-arrow-okru"></i>
    
    <!-- Contenedor del iframe -->
    
        <div class="iframe-container-okru">
    <iframe class="iframe-okru" frameborder="0" 
            allow="accelerometer;  clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen" 
            allowfullscreen></iframe>
</div>
</div>


  
 
   <div id="detalles" class="popud51" style="display: none;">
    <div class="popup-content51">
        <span class="close-btn51"><i class="fas fa-arrow-left"></i></span>
  
 <div class="video-container" id="videoContainer">    
    <video id="videoPlayer" preload="metadata" playsinline></video>    <div class="top-right-controls" id="topRightControls">    
  <span id="pictureInPicture" class="material-symbols-outlined">branding_watermark</span>    
</div>    

<div class="center-controls  hidden1" id="centerControls">    
  <span id="rewind" class="material-symbols-outlined">replay_10</span>    
  <span id="playPause" class="material-symbols-outlined">play_arrow</span>    
  <span id="forward" class="material-symbols-outlined">forward_10</span>    
</div>    

<div class="controls1" id="controls1">    
  <div class="progress-bar-container">    
    <div class="progress-bar" id="progressBar">    
        <div id="progress"></div>    
    </div>    
  </div>    

  <span id="currentTime">00:00</span>/<span id="totalTime">00:00</span>    
  <span id="volume" class="material-symbols-outlined">volume_up</span>    
    

  <span id="resize" class="material-symbols-outlined">width</span>  

  <span id="speedIcon" class="material-symbols-outlined">speed</span>  
  <div id="speedMenu" class="speed-menu hidden1">  
    <div data-speed="0.5">0.5x</div>  
    <div data-speed="0.75">0.75x</div>  
    <div data-speed="1">1x</div>  
    <div data-speed="1.5">1.5x</div>  
    <div data-speed="2">2x</div>  
  </div>  
<!-- Botón dentro de controles con icono -->
<span class="fullscreen-btn material-symbols-outlined" data-type="controls" style="display:none;">fullscreen</span>
</div>

  </div>       

<!-- Botón fuera de controles -->
<button class="fullscreen-btn fullscreen-btn1" data-type="external">pantalla completa</button>

 <div id="Botonesserver"></div>



  <div id="movie-details">
        
        <h3 id="movie-title"></h3>

      <img id="movie-logo" alt="Logo de la película">

<div class="movie-info-buttons" style="text-align: center;">
    <button id="movie-year" class="info-button gold-button"></button>

    <button id="movie-duration" class="info-button red-button"></button>
</div>
    
    
<div id="categories"></div>


        <div id="controls">
            <button id="play" class="button play-button">
                <i class="fas fa-play"></i></button>
            <button id="favorite" class="button favorite-button">
                <i class="fas fa-heart"></i></button>
          
          <button id="ojo" class="button ojo-button">
                <i class="fas fa-eye"></i></button>
          
   <button id="sinopsis" style="display: none;" class="button sinopsis-button">
    <i class="fas fa-book-open"></i>
</button>      
          
          
        <div id="button-container52"></div>
          
          <div id="streaming-logo"></div>
        </div>
      
      
      
      
        
      
      
        <div id="synopsis"></div>
      
      
    
    
    <div id="popup-overlay" style="display: none;"></div>
<div id="popup-container52" style="display: none;">
    <span id="close-popup52" class="close-popup52"><i class="fas fa-arrow-left"></i></span>
    <div id="iframe-container">
        <iframe 
            id="trailer-iframe"
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen>
        </iframe>
    </div>
</div>
    <br>
    <p5>Recomendaciones</p5>
    
    <div id="recomendados" class="recomendados"></div>
    


    
<p6 id="avance-title"></p6>
    <div id="advances-slider" class="slider-container1"></div>
    
    
    <p6 id="actores-title"></p6>
    <div id="actors-slider" class="slider-container"></div>
    

    

 


    </div>
 </div>  
 </div>   
    
  
<!-- Overlay de búsqueda -->
<div id="search-overlay">
    <span id="close-search">
        <i class="fas fa-arrow-left"></i>
    </span>
    <div id="search-container">
        <input id="search-input" type="text" inputmode="none" autocomplete="off" autocorrect="off" spellcheck="false">      
    <div class="keyboard" id="keyboard">
</div>      
    </div>
    <div id="search-results"></div>
</div>


    
    
    
  <script>
document.addEventListener('DOMContentLoaded', () => {

  const iframe = document.getElementById('Playertv');

  function clearIframe() {
    if (!iframe) return;
    iframe.src = "";           // Limpia contenido real
    iframe.removeAttribute('src'); // Evita recargas posteriores
  }

  // Botones de categorías
  const categoryButtons = document.querySelectorAll('#categoryContainer .category');

  categoryButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const catName = btn.textContent.trim().toUpperCase();

      // Si NO es TV  limpiar iframe
      if (catName !== 'TV') {
        clearIframe();
      }
    });
  });

  // Botones adicionales que también deben limpiar
  const otherButtons = [
    '#searchIcon',
    '#favoritos',
    '#Vistos',
    '#RefrescarIcon',
    '[data-category="RECIENTES"]'
  ];

  otherButtons.forEach(selector => {
    const el = document.querySelector(selector);
    if (el) {
      el.addEventListener('click', clearIframe);
    }
  });

});
</script>  
   
    
    
    
    
   <script>
    
  // --- passwordManager.js ---
const ADULTS_CATEGORY = 'adultos';
const PASSWORD_KEY = 'adultsPassword';

// Guardar contraseña en localStorage
function savePassword(password) {
    localStorage.setItem(PASSWORD_KEY, password);
}

// Obtener contraseña de localStorage
function getPassword() {
    return localStorage.getItem(PASSWORD_KEY);
}

// Eliminar contraseña de localStorage
function deletePassword() {
    localStorage.removeItem(PASSWORD_KEY);
}

// Manejar el formulario de guardar contraseña
document.getElementById('passwordForm').addEventListener('submit', function (e) {
    e.preventDefault();
    const passwordInput = document.getElementById('password').value.trim();
    const currentPassword = getPassword();

    if (currentPassword) {
        // Si ya hay una contraseña, pedir la actual para cambiarla
        const enteredCurrentPassword = prompt('Ingrese la contraseña actual para cambiarla:').trim();
        if (enteredCurrentPassword === currentPassword) {
            savePassword(passwordInput);
            alert('Contraseña cambiada con éxito.');
        } else {
            alert('Contraseña actual incorrecta.');
        }
    } else {
        // Si no hay contraseña, guardar la nueva
        savePassword(passwordInput);
        alert('Contraseña guardada con éxito.');
    }

    document.getElementById('password').value = '';
});

// Manejar el botón de borrar contraseña
document.getElementById('deletePassword').addEventListener('click', function () {
    const currentPassword = getPassword();
    if (!currentPassword) {
        alert('No hay ninguna contraseña guardada.');
        return;
    }

    const enteredPassword = prompt('Ingrese la contraseña actual para borrarla:').trim();
    if (enteredPassword === currentPassword) {
        deletePassword();
        alert('Contraseña eliminada con éxito.');
    } else {
        alert('Contraseña incorrecta.');
    }
});

// Comprobar acceso a la categoría ADULTOS
function checkAdultCategoryAccess(callback) {
    const currentPassword = getPassword();
    if (currentPassword) {
        const enteredPassword = prompt('Ingrese la contraseña para acceder a la categoría ADULTOS:').trim();
        if (enteredPassword === currentPassword) {
            callback();  // Ejecutar el callback si la contraseña es correcta
        } else {
            alert('Contraseña incorrecta.');
        }
    } else {
        alert('No hay contraseña establecida para la categoria ADULTOS. Introduce una por seguridad y poder ingresar a la categoria');
    }
}

// Filtrar canales según la categoría ADULTOS
function filterAdultChannels(channels) {
    return channels.filter(channel => {
        return channel.group && channel.group.toLowerCase().includes(ADULTS_CATEGORY);
    });
}  
   
    
    </script>
  
    
    
    
 <script>
  
// Cargar la lista M3U guardada al iniciar la aplicación
window.addEventListener('load', function() {
    const savedM3uUrl = localStorage.getItem('m3uUrl');
    if (savedM3uUrl) {
        localStorage.removeItem('m3uData'); // Forzar actualización

        // Agregar un parámetro único a la URL para evitar la caché
        const updatedUrl = savedM3uUrl.includes('?') 
            ? `${savedM3uUrl}&t=${Date.now()}` 
            : `${savedM3uUrl}?t=${Date.now()}`;

        loadM3uPlaylist(updatedUrl, false);
    }

    document.getElementById('m3uInput').value = savedM3uUrl || '';    
    loadSavedPlaylists();
});
  
  
  

// Cargar la lista M3U desde el input
document.getElementById('load-btn').addEventListener('click', function() {
    const m3uUrl = document.getElementById('m3uInput').value;
    document.getElementById('m3uInput').value = '';
  
localStorage.setItem('m3uUrl', m3uUrl);    
  
    // --- Lógica para pedir nombre a la lista y guardarla ---
    const playlistName = prompt('Introduce un nombre para guardar la lista:'); // Pedir nombre para la lista
    if (playlistName) {
        savePlaylist(playlistName, m3uUrl);  // Guardar la lista con el nombre dado
        // Cargar la nueva lista M3U

    
    }
    loadM3uPlaylist(m3uUrl);

  
  
});
  
  
  
  
  
  

// Cargar la lista M3U desde localStorage al refrescar
document.getElementById('RefrescarIcon').addEventListener('click', function() {
    const savedM3uUrl = localStorage.getItem('m3uUrl');
    if (savedM3uUrl) {
        localStorage.removeItem('m3uData'); // Eliminar los datos guardados para forzar la actualización

        const updatedUrl = savedM3uUrl.includes('?') 
            ? `${savedM3uUrl}&t=${Date.now()}` 
            : `${savedM3uUrl}?t=${Date.now()}`;

        loadM3uPlaylist(updatedUrl); // Cargar la lista con la URL actualizada

        // Activar "Recientes" después de refrescar
        activeCategoryName = 'RECIENTES';

        setTimeout(() => {
            const storedChannels = JSON.parse(localStorage.getItem('m3uData')) || [];

            const filteredChannels = storedChannels.filter(channel => {
                return !(channel.group && channel.group.toLowerCase().includes('adultos'));
            });

            displayChannels(filteredChannels.slice(0, 50));
            generateCategories(storedChannels);
        }, 500);
    } else {
        console.error('No hay ninguna lista M3U guardada');
    }
});





// Función para cargar la lista M3U
function loadM3uPlaylist(m3uUrl) {  
    fetchM3U(m3uUrl, true); // Llamar a la función fetchM3U para obtener y procesar la lista M3U
    document.getElementById('m3uInput').value = ''; // Limpiar el input de la URL
}

// Función para obtener y procesar la lista M3U
function fetchM3U(m3uUrl, showRecent = false, category = null) {
    let storedData = localStorage.getItem('m3uData');
    if (storedData) {
        let channels = JSON.parse(storedData);
        generateCategories(channels);

        if (category && category.toLowerCase() === 'adultos') {
            checkAdultCategoryAccess(() => {
                const adultChannels = filterAdultChannels(channels);
                displayChannels(adultChannels);
                document.getElementById('playlistContainer1').scrollTop = 0;
            });
        } else if (showRecent) {
            const filteredChannels = channels.filter(channel => {
                return !(channel.group && channel.group.toLowerCase().includes('adultos'));
            });
            displayChannels(filteredChannels.slice(0, 50));
        } else if (category) {
            const filteredChannels = channels.filter(channel => {
                if (channel.group) {
                    const categories = channel.group.split(',').map(cat => cat.trim().toLowerCase());
                    return categories.includes(category.toLowerCase());
                }
                return false;
            });
            displayChannels(filteredChannels);
            document.getElementById('playlistContainer1').scrollTop = 0;
        } else {
            displayChannels(channels); // Mostrar todos los canales si no hay categoría
        }
        return;
    }

    fetch(m3uUrl)
        .then(response => response.text())
        .then(data => {
            const channels = processM3U(data);
            localStorage.setItem('m3uData', JSON.stringify(channels));
            generateCategories(channels);

            if (category && category.toLowerCase() === 'adultos') {
                checkAdultCategoryAccess(() => {
                    const adultChannels = filterAdultChannels(channels);
                    displayChannels(adultChannels);
                    document.getElementById('playlistContainer1').scrollTop = 0;
                });
            } else if (showRecent) {
                const filteredChannels = channels.filter(channel => {
                    return !(channel.group && channel.group.toLowerCase().includes('adultos'));
                });
                displayChannels(filteredChannels.slice(0, 50));
            } else if (category) {
                const filteredChannels = channels.filter(channel => {
                    if (channel.group) {
                        const categories = channel.group.split(',').map(cat => cat.trim().toLowerCase());
                        return categories.includes(category.toLowerCase());
                    }
                    return false;
                });
                displayChannels(filteredChannels);
                document.getElementById('playlistContainer1').scrollTop = 0;
            } else {
                displayChannels(channels); // Mostrar todos los canales si no hay categoría
            }
        })
        .catch(error => {
            console.error("Error al cargar la lista M3U:", error);
        });
}
  
  
  function processM3U(data) {
        const lines = data.split('\n');
    
    
    
        let currentChannel = null;
        let channels = [];

        lines.forEach((line, index) => {
            if (line.startsWith('#EXTINF:')) {
                if (currentChannel) {
                    channels.push(currentChannel);
                } 
            
              
              
                const titleMatch = line.match(/tvg-name="([^"]+)/);
                const logoMatch = line.match(/tvg-logo="([^"]+)"/);
                const groupMatch = line.match(/group-title="([^"]+)"/);
                const idTmdbMatch = line.match(/tmdb-id="([^"]+)"/);
                const durationMatch = line.match(/duration="([^"]+)"/);

                currentChannel = {
                    title: titleMatch ? titleMatch[1] : '',
                    logo: logoMatch ? logoMatch[1] : '',
                    links: [], // Aquí guardamos los enlaces asociados al canal
                    group: groupMatch ? groupMatch[1] : '', // Capturar el 'group-title' correctamente
                    tmdbId: idTmdbMatch ? idTmdbMatch[1] : null, // Guardar el ID de TMDb
                    duration: durationMatch ? parseInt(durationMatch[1]) : null // Guardar la duración como entero
                };

            } else if (line && !line.startsWith('#') && currentChannel && line.trim() !== '') {
                currentChannel.links.push(line);
            }
        });

        if (currentChannel) {
            channels.push(currentChannel);
        }

        return channels;
    }

function displayChannels(channels) {
    const playlistContainer1 = document.getElementById('playlistContainer1');
    const playlistContainer2 = document.getElementById('playlistContainer2');

    // Limpiar contenedores (igual que antes)
    playlistContainer1.innerHTML = '';
    playlistContainer2.innerHTML = '';

    const fragment1 = document.createDocumentFragment();
    const fragment2 = document.createDocumentFragment();

    // Callback que contiene la lógica original (la mantuve intacta)
    const handleEntry = (entry) => {
        if (!entry.isIntersecting) return;
        const channelDiv = entry.target;
        const channel = JSON.parse(channelDiv.dataset.channel);

        // Si NO es CH -> mantener toda la lógica original (imagen, onclick, popup, favoritos, ojo, addToVistos...)
        if (!(channel.group && /CH$/i.test((channel.group + '').split(',').map(s=>s.trim()).join(',')))) {
            // --- --- tu lógica original EXACTA para crear imagen, onclick, popup, favoritos, ojo, addToVistos --- ---
            if (channel.logo) {
                const img = document.createElement('img');
                img.src = channel.logo;
                img.alt = channel.title;
                channelDiv.appendChild(img);

                if (channel.logo && channel.title.length > 0 && channel.tmdbId && channel.links) {
                    img.onclick = () => {
                        const channelLogo = channel.logo;
                        const channelTitle = channel.title;
                        const channelLinks = channel.links;
                        const tmdbId = channel.tmdbId;
                        const channelDuration = channel.duration;

                        // Guardar en localStorage
                        localStorage.setItem('tmdbId', tmdbId);
                        localStorage.setItem('channelLogo', channelLogo);
                        localStorage.setItem('channelTitle', channelTitle);
                        localStorage.setItem('channelLinks', channelLinks);
                        localStorage.setItem('channelDuration', channelDuration);

                        fillPageContent(channelLogo, channelTitle, channelLinks);

                        localStorage.setItem('currentChannelLogo', channelLogo);
                        localStorage.setItem('currentChannelTitle', channelTitle);
                        localStorage.setItem('currentTmdbId', tmdbId);
                        localStorage.setItem('currentChannelDuration', channelDuration);
                        localStorage.setItem('currentChannelLinks', JSON.stringify(channelLinks));

                        // Mostrar el popup
                        const popup = document.getElementById('detalles');
                        if (popup) popup.style.display = 'flex';

                        // Manejo del botón de favoritos
                        const savedFavorites = JSON.parse(localStorage.getItem('savedFavorites')) || [];
                        const favoriteIcon = document.querySelector('#favorite i');
                        const isFavorite = savedFavorites.some(fav => fav.channelTitle === channelTitle);

                        if (favoriteIcon) {
                            if (isFavorite) {
                                favoriteIcon.classList.remove('fa-heart');
                                favoriteIcon.classList.add('fa-trash');
                            } else {
                                favoriteIcon.classList.remove('fa-trash');
                                favoriteIcon.classList.add('fa-heart');
                            }
                        }

                        // **Lógica para el botón de "ojo"**
                        const savedOjos = JSON.parse(localStorage.getItem('savedOjos')) || [];
                        const ojoButton = document.getElementById('ojo');
                        const ojoIcon = ojoButton ? ojoButton.querySelector('i') : null;
                        const isOjo = savedOjos.includes(channelTitle);

                        if (ojoIcon) ojoIcon.style.color = isOjo ? 'limegreen' : '';

                        if (ojoButton) {
                            ojoButton.onclick = () => {
                                const savedOjosLocal = JSON.parse(localStorage.getItem('savedOjos')) || [];
                                const ojoIndex = savedOjosLocal.indexOf(channelTitle);

                                if (ojoIndex > -1) {
                                    savedOjosLocal.splice(ojoIndex, 1);
                                    if (ojoIcon) ojoIcon.style.color = '';
                                } else {
                                    savedOjosLocal.push(channelTitle);
                                    if (ojoIcon) ojoIcon.style.color = 'limegreen';
                                }

                                localStorage.setItem('savedOjos', JSON.stringify(savedOjosLocal));
                            };
                        }

                        addToVistos(tmdbId, channelLinks);
                    };
                }
            }

            // Título (igual que antes)
            const title = document.createElement('p');
            title.textContent = channel.title;
            title.style = ' text-overflow: ellipsis; white-space: nowrap; overflow: hidden; font-weight: bold;';
            channelDiv.appendChild(title);
        }
      
      
// Si ES CH -> crear SOLO título clickeable (sin imagen, sin botones)
else {
    // título clickeable
    const title = document.createElement('p');
title.textContent = channel.title;
title.classList.add('titulotv');   // <-- clase en lugar de estilos inline
channelDiv.appendChild(title);

    // click  guarda TODOS los links y crea botones
    title.addEventListener('click', (e) => {
        e.stopPropagation();

        // Guardar título y links
        localStorage.setItem('currentChannelTitle', channel.title);
        localStorage.setItem('currentChannelLinks', JSON.stringify(channel.links));

        // Contenedor donde se crean los botones
        const contenedorLinks = document.getElementById('Linkstv');
        if (!contenedorLinks) {
            console.warn("No existe el contenedor #Linkstv");
            return;
        }

        contenedorLinks.innerHTML = ''; // limpiar botones previos
        contenedorLinks.style.display = 'block'; // mostrar contenedor

        // Generar botones según los links
        channel.links.forEach((linkItem, index) => {

            // Puede venir como string o como objeto
            let url = "";
            if (typeof linkItem === "string") {
                url = linkItem.trim();
            } else {
                url = linkItem.url || linkItem.link || linkItem.src || "";
            }

            // Crear botón
            const btn = document.createElement('button');
            btn.className = 'option-button1';
            btn.textContent = "Opción " + (index + 1);

            // Acción del botón  cargar en IFRAME Playertv (sin abrir pestañas)
            btn.onclick = (e) => {
    e.preventDefault();
    e.stopPropagation();

    const player = document.getElementById('Playertv');

    if (!player) {
        console.warn("No existe el iframe #Playertv");
        return;
    }

    // Asegurar que NO abra nueva pestaña
    window.open = () => {};

    try {
        player.src = url;
    } catch(err) {
        player.setAttribute("src", url);
    }
};

            contenedorLinks.appendChild(btn);
        });
    });
}        

        // dejar de observar el elemento
        try { observer.unobserve(channelDiv); } catch (e) {}
    };

    // Observers: uno para cada contenedor (para mantener comportamiento de root-scroll original)
    const observer1 = new IntersectionObserver((entries) => { entries.forEach(handleEntry); }, { root: playlistContainer1, rootMargin: '200px 0px' });
    const observer2 = new IntersectionObserver((entries) => { entries.forEach(handleEntry); }, { root: playlistContainer2, rootMargin: '200px 0px' });

    // Crear los contenedores para cada canal (ahora decidimos en qué fragmento ponerlos)
    channels.forEach((channel, index) => {
        const isCH = channel.group && channel.group.split(',').map(s=>s.trim().toUpperCase()).some(g => /CH$/i.test(g));
        const channelDiv = document.createElement('div');
        channelDiv.classList.add('channel-container');
        channelDiv.dataset.index = index;
        channelDiv.dataset.title = channel.title;
        channelDiv.dataset.channel = JSON.stringify(channel);
        channelDiv.style = 'text-align: center; position: relative;';

        if (isCH) {
            fragment2.appendChild(channelDiv);
            observer2.observe(channelDiv);
        } else {
            fragment1.appendChild(channelDiv);
            observer1.observe(channelDiv);
        }
    });

    // Agregar a los contenedores
    playlistContainer1.appendChild(fragment1);
    playlistContainer2.appendChild(fragment2);
 
  
  
 

// Función para abrir el popup
function openPopup() {
    const popup = document.getElementById('detalles');
    popup.style.display = 'flex'; // Mostrar el popup

    // Limpiar el contenedor de recomendados
    const recommendedContainer = document.getElementById('recomendados');
    if (recommendedContainer) {
        recommendedContainer.innerHTML = ''; // Limpiar contenido
    }
    loadRecommendedChannels(); // Generar nuevas recomendaciones
}

// Crear el contenedor de recomendaciones
document.addEventListener("DOMContentLoaded", function () {
    const popup = document.getElementById('detalles');
    const recommendedContainer = document.createElement("div");
    recommendedContainer.id = "recomendados";
    recommendedContainer.classList.add("recomendados");

    // Agregar el contenedor al popup
    popup.appendChild(recommendedContainer);

    // Observador de tamaño
    const resizeObserver = new ResizeObserver(() => {
        loadRecommendedChannels();
    });
    resizeObserver.observe(recommendedContainer);

    loadRecommendedChannels();
});

// Función para seleccionar películas recomendadas
function getRecommendedChannels(containerWidth) {
    const count = containerWidth > 330 ? 11 : 3;
    const excludedGroups = ['PLUTO TV', 'DEPORTES'];

    let filteredChannels = channels.filter(channel => !excludedGroups.includes(channel.group.toUpperCase()));
    const shuffled = filteredChannels.sort(() => 0.5 - Math.random());

    const uniqueChannels = new Set();
    const recommended = [];
    for (let channel of shuffled) {
        if (!uniqueChannels.has(channel.title) && recommended.length < count) {
            uniqueChannels.add(channel.title);
            recommended.push(channel);
        }
    }
    return recommended;
}

// Cargar las recomendaciones
function loadRecommendedChannels() {
    const recommendedContainer = document.getElementById('recomendados');
    if (!recommendedContainer) return;

    const containerWidth = recommendedContainer.offsetWidth;
    const recommendedChannels = getRecommendedChannels(containerWidth);

    recommendedContainer.innerHTML = ''; // Limpiar antes de agregar

    

    // Contenedor para las imágenes
    const imagesContainer = document.createElement("div");
    imagesContainer.style.display = "flex";
    imagesContainer.style.justifyContent = "center";
    imagesContainer.style.gap = "10px"; // Espacio entre las imágenes
    recommendedContainer.appendChild(imagesContainer);

    // Agregar las películas recomendadas
    recommendedChannels.forEach(channel => {
        const recommendedItem = document.createElement("div");
        recommendedItem.classList.add("recommended-item");
        recommendedItem.style.display = "flex";
        recommendedItem.style.flexDirection = "column";
        recommendedItem.style.alignItems = "center";

        // Imagen
        if (channel.logo) {
            const img = document.createElement("img");
            img.src = channel.logo;
            img.alt = channel.title;
            img.className = 'recomendados';
            
          img.onclick = () => {
    //  Limpiar los botones del popup antes de abrir la nueva película
    const buttonContainer = document.getElementById('Botonesserver');
    if (buttonContainer) {
        buttonContainer.innerHTML = '';
    }

    //  Limpiar y detener el reproductor actual
    const videoPlayer = document.getElementById('videoPlayer');
    if (videoPlayer) {
        videoPlayer.pause();
        videoPlayer.removeAttribute('src');
        videoPlayer.load(); // Resetea completamente el reproductor
    }

    //  Cerrar cualquier popup del reproductor si está abierto
    const videoPopup = document.getElementById('videoPopup');
    if (videoPopup) {
        videoPopup.classList.remove('active');
    }

    //  Buscar la película original en la lista y simular el clic
    let clicked = false;
    const selectedTitle = channel.title.toLowerCase().trim();

    document.querySelectorAll('.channel-container').forEach(item => {
        const itemTitle = item.dataset.title.toLowerCase().trim();
        if (itemTitle === selectedTitle && !clicked) {
            item.querySelector('img').click();
            clicked = true;
        }
    });
};
            recommendedItem.appendChild(img);
        }

        // Título
        const title = document.createElement("p");
        title.textContent = channel.title;
      title.className = 'recomendados';
        
        recommendedItem.appendChild(title);

        imagesContainer.appendChild(recommendedItem);
    });
}
      
   // Observador para detectar cambios de tamaño en el contenedor
const resizeObserver = new ResizeObserver(() => {
    loadRecommendedChannels();
});

// Iniciar la observación del contenedor de recomendaciones
const recommendedContainer = document.getElementById('recomendados');
resizeObserver.observe(recommendedContainer);

// Cargar películas recomendadas cuando el documento esté listo
document.addEventListener("DOMContentLoaded", function () {
    loadRecommendedChannels();
});
   
      

      
        
  
  }
      
   
    
    
   </script>

  
    
   
    
    
    
  
       
 
 


  
  
  
    
<script>
// Forzar que siempre la categoría activa al recargar sea RECIENTES
let activeCategoryName = 'RECIENTES';
localStorage.setItem('activeCategory', activeCategoryName);

// ================================
// GENERAR CATEGORÍAS (MODIFICADO)
// ================================
function generateCategories(channels) {

    const categoryButtons = document.getElementById('categoryButtons');
    const categoryButtons2 = document.getElementById('categoryButtons2');

    categoryButtons.innerHTML = '';
    categoryButtons2.innerHTML = '';

    let normalCategories = new Set();
    let chCategories = new Set();

    // CLASIFICAR CATEGORÍAS
    channels.forEach(channel => {
        if (channel.group) {
            channel.group.split(',').forEach(cat => {

                let clean = cat.trim();
                if (!clean) return;

                clean = clean.toUpperCase();

                // Si termina en CH  categoría especial
                if (/CH$/i.test(clean)) {
                    chCategories.add(clean);
                } else {
                    normalCategories.add(clean);
                }

            });
        }
    });

    normalCategories = Array.from(normalCategories).sort();
    chCategories = Array.from(chCategories).sort();

    // ================================
    // BOTÓN RECIENTES (SIN CAMBIOS)
    // ================================
    createCategoryLabel('RECIENTES', () => {

        activeCategoryName = 'RECIENTES';
        localStorage.setItem('activeCategory', activeCategoryName);

        const storedChannels = JSON.parse(localStorage.getItem('m3uData')) || [];

        const filteredChannels = storedChannels.filter(channel => {
            return !(channel.group && channel.group.toLowerCase().includes('adultos'));
        });

        displayChannels(filteredChannels.slice(0, 50));
        generateCategories(channels);

    }, 1);

    // ================================
    // CATEGORÍAS NORMALES
    // ================================
    normalCategories.forEach(category => {

        createCategoryLabel(category, () => {

            activeCategoryName = category;
            localStorage.setItem('activeCategory', activeCategoryName);

            fetchM3U(localStorage.getItem('m3uUrl'), false, category);
            generateCategories(channels);

        }, 1);

    });

    // ================================
    // CATEGORÍAS CH -> categoryButtons2
    // ================================
    chCategories.forEach(fullCat => {

        const cleanName = fullCat.replace(/CH$/i, ''); // quitar CH final

        createCategoryLabel(cleanName, () => {

            activeCategoryName = cleanName;
            localStorage.setItem('activeCategory', activeCategoryName);

            const storedChannels = JSON.parse(localStorage.getItem('m3uData')) || [];

            const filtered = storedChannels.filter(ch => {
                if (!ch.group) return false;
                return ch.group
                    .split(',')
                    .map(g => g.trim().toUpperCase())
                    .includes(fullCat.toUpperCase());
            });

            displayChannels(filtered);

        }, 2);
    });

}

// =======================================
// CREAR BOTÓN DE CATEGORÍA (MODIFICADO)
// =======================================
function createCategoryLabel(name, callback, type = 1) {

    const label = document.createElement('span'); 
    label.classList.add('category-label');
    label.textContent = name;

    if (name === activeCategoryName) {
        label.classList.add('active-category');
    }

    label.addEventListener('click', () => {

        activeCategoryName = name;
        localStorage.setItem('activeCategory', activeCategoryName);

        // Remover activos
        document
            .querySelectorAll('#categoryButtons .category-label, #categoryButtons2 .category-label')
            .forEach(lbl => lbl.classList.remove('active-category'));

        label.classList.add('active-category');

        callback();
    });

    if (type === 2) {  
        document.getElementById('categoryButtons2').appendChild(label);
    } else {        
        document.getElementById('categoryButtons').appendChild(label);
    }

}
</script>
  
    

   

 
<script>
async function fillPageContent(channelLogo, channelTitle, channelLinks) {
    try {
        // **LIMPIAR CONTENIDO ANTES DE MOSTRAR NUEVOS DATOS**
        document.getElementById('movie-logo').src = '';
        document.getElementById('movie-title').textContent = '';
        document.getElementById('categories').textContent = '';
        document.getElementById('movie-year').textContent = '';
        document.getElementById('movie-duration').textContent = '';
        document.getElementById('synopsis').textContent = '';
        document.getElementById('advances-slider').textContent = '';
        document.getElementById('actors-slider').textContent = '';
        document.getElementById('button-container52').textContent = '';
        document.getElementById('streaming-logo').textContent = '';

        //  LIMPIAR BOTONES DE SERVIDORES DE UNA PELÍCULA ANTERIOR
        const serverButtons = document.getElementById('Botonesserver');
        if (serverButtons) serverButtons.innerHTML = '';

        // Usar channelLogo y channelTitle para actualizar el contenido
        document.getElementById('movie-logo').src = channelLogo;
        document.getElementById('movie-title').textContent = channelTitle;

        // Elementos UI
        const sinopsisButton = document.getElementById('sinopsis');
        const avanceTitle = document.getElementById('avance-title');
        const movieYearButton = document.getElementById('movie-year');
        const movieDurationButton = document.getElementById('movie-duration');
        const actoresTitle = document.getElementById('actores-title');

        // Recuperamos el tmdbId de localStorage
        const tmdbId = localStorage.getItem('tmdbId');
        console.log('tmdbId recuperado de localStorage:', tmdbId);

        if (tmdbId && tmdbId !== "0") {
            avanceTitle.style.display = 'block';
            movieYearButton.style.display = 'inline-block';
            movieDurationButton.style.display = 'inline-block';
            actoresTitle.style.display = 'block';

            sinopsisButton.click();
            fetchMovieDetails(tmdbId);
        } else {
            avanceTitle.style.display = 'none';
            movieYearButton.style.display = 'none';
            movieDurationButton.style.display = 'none';
            actoresTitle.style.display = 'none';
            console.log('No se encontró un tmdbId válido.');
        }

        //  BOTÓN PLAY
        const playButton = document.getElementById('play');
        playButton.onclick = () => {
            const channelLogo = localStorage.getItem('channelLogo');
            const channelTitle = localStorage.getItem('channelTitle');
            const tmdbId = localStorage.getItem('tmdbId');
            const channelLinks = localStorage.getItem('channelLinks');

            if (!channelLogo || !channelTitle || !tmdbId || !channelLinks) {
                console.error('Faltan datos en localStorage. Asegúrate de seleccionar un canal.');
                return;
            }

            //  LIMPIAR BOTONES ANTES DE CREAR LOS NUEVOS
            const buttonContainer = document.getElementById('Botonesserver');
            if (buttonContainer) buttonContainer.innerHTML = '';

            const links = channelLinks.split(',');
            openLinkOptions(channelLogo, channelTitle, links);
        };

    } catch (error) {
        console.error('Error al obtener los detalles de la película:', error);
    }
}

// Mostrar y cerrar el popup
document.addEventListener('DOMContentLoaded', () => {
    const popup = document.getElementById('detalles');
    const closeButton = document.querySelector('.close-btn51');

    function showPopup() {
        popup.style.display = 'flex';
    }

    function closePopup() {
        popup.style.display = 'none';

        //  LIMPIAR BOTONES DE SERVIDORES AL CERRAR
        const serverButtons = document.getElementById('Botonesserver');
        if (serverButtons) serverButtons.innerHTML = '';
    }

    closeButton.addEventListener('click', closePopup);
});
</script>
  
  
  
    
    
  


<script>
// ===============================
//  TOKEN DESDE COOKIE O GLOBAL
// ===============================
function getUqloadToken() {
    if (window.uqloadToken && window.uqloadToken.length > 10) {
        return window.uqloadToken;
    }
    const match = document.cookie.match(/(?:^|;\s*)uqload_token=([^;]+)/);
    return match ? decodeURIComponent(match[1]) : '';
}

// =====================================
//  REINICIO REAL Y LIMPIO DEL VIDEO
// =====================================
function loadNewVideo(videoPlayer, url, playPauseButton){
    videoPlayer.pause();
    videoPlayer.removeAttribute("src");
    videoPlayer.load();

    setTimeout(() => {
        videoPlayer.src = url;
        videoPlayer.load();

        const playPromise = videoPlayer.play();
        if (playPromise !== undefined) {
            playPromise.then(() => {
                if(playPauseButton) playPauseButton.textContent = 'pause';
            }).catch(err => {
                console.warn("Autoplay bloqueado:", err);
            });
        }
    }, 300);
}

// =====================================
//  GENERAR BOTONES DE SERVIDORES
// =====================================
function openLinkOptions(channelLogo, channelTitle, links) {
    var buttonContainer = document.getElementById('Botonesserver');
    if (!buttonContainer) return;

    buttonContainer.innerHTML = '';
    var token = getUqloadToken();

    links.forEach(function(linkWithPrefix, index) {
        var prefix = '';
        var url = linkWithPrefix.trim();

        if (url.indexOf(' ') !== -1) {
            var parts = url.split(' ', 2);
            prefix = parts[0];
            url = parts[1];
        }

        function formatButtonName(prefix) {
            var typeMap = { 'C': 'Capítulo', 'O': 'Opción' };
            var type = typeMap[prefix.charAt(0)] || 'Opción';
            var number = prefix.slice(1, -1);
            var letter = prefix.slice(-1);
            return type + ' ' + number + ' ' + letter;
        }

        var buttonName = prefix ? formatButtonName(prefix) : 'Opción ' + (index + 1);

        var button = document.createElement('button');
        button.className = 'option-button';
        button.textContent = buttonName;

        button.addEventListener('click', function() {
            var videoPlayer = document.getElementById('videoPlayer');
            var playPauseButton = document.getElementById('playPause');
            if (!videoPlayer) return;

            videoPlayer.crossOrigin = "anonymous";
            videoPlayer.preload = "auto";

            
               // ================= UQLOAD =================
if (url.includes('uqload')) {
    if (!token) {
        console.warn("Token Uqload no disponible");
        return;
    }

    fetch('/?embed=' + encodeURIComponent(url) +
        '&token=' + token +
        '&title=' + encodeURIComponent(channelTitle))
    .then(res => res.json())  
    .then(data => {  
        if (data.mp4) {  
            const noCacheUrl = data.mp4 + '&_=' + Date.now(); //  evita caché
            loadNewVideo(videoPlayer, noCacheUrl, playPauseButton);  
        } else {  
            console.error('Error Uqload:', data.error || 'Sin MP4');  
        }  
    })  
    .catch(err => console.error('Error petición Uqload', err));  
}  


            // ================= OK.RU =================
            else if (url.includes('ok.ru')) {
                var overlayOkru = document.querySelector('.overlay-okru');
                var popupOkru = document.querySelector('.popup-okru');
                var iframeOkru = document.querySelector('.iframe-okru');

                if (overlayOkru && popupOkru && iframeOkru) {
                    overlayOkru.style.display = 'block';
                    popupOkru.style.display = 'block';
                    iframeOkru.src = url;
                }
            }

            // ============== ENLACES DIRECTOS ============
            else {
                loadNewVideo(videoPlayer, url, playPauseButton);
            }
        });

        buttonContainer.appendChild(button);
    });
}

// =====================================
//  CERRAR POPUP OK.RU
// =====================================
document.addEventListener('click', function(e){
    if (e.target.closest('.close-arrow-okru')) {
        var overlayOkru = document.querySelector('.overlay-okru');
        var popupOkru = document.querySelector('.popup-okru');
        var iframeOkru = document.querySelector('.iframe-okru');

        if (overlayOkru) overlayOkru.style.display = 'none';
        if (popupOkru) popupOkru.style.display = 'none';
        if (iframeOkru) iframeOkru.src = '';
    }
});

// =====================================
//  CERRAR POPUP REPRODUCTOR MP4
// =====================================
document.addEventListener('click', function(e){
    if (e.target.id === 'closePopupmp4') {
        var videoPopup = document.getElementById('videoPopup');
        var videoPlayer = document.getElementById('videoPlayer');

        if(videoPlayer){
            videoPlayer.pause();
            videoPlayer.removeAttribute("src");
            videoPlayer.load();
        }

        if (videoPopup) videoPopup.classList.remove('active');
    }
});

// =====================================
//  LIMPIAR BOTONES AL MOSTRAR DETALLES
// =====================================
const detallesContainer = document.getElementById('detalles');
if (detallesContainer) {
    const observer = new MutationObserver(() => {
        if (window.getComputedStyle(detallesContainer).display !== 'none') {
            const buttonContainer = document.getElementById('Botonesserver');
            if (buttonContainer) buttonContainer.innerHTML = '';
        }
    });
    observer.observe(detallesContainer, { attributes: true, attributeFilter: ['style'] });
}

// =====================================
//  MANTENER SESIÓN UQLOAD ACTIVA
// =====================================
let sessionIntervalStarted = false;

function keepSessionAlive() {
    if (sessionIntervalStarted) return;
    var token = getUqloadToken();
    if (!token) return;

    sessionIntervalStarted = true;

    setInterval(function() {
        fetch('/?ping=1&token=' + token).catch(()=>{});
    }, 5 * 60 * 1000);
}

keepSessionAlive();
</script>







<script>
// Función para obtener la duración desde TMDb
async function getDurationFromTMDb(tmdbId) {
    if (!tmdbId || tmdbId === '0') {
        console.warn('tmdbId no válido.');
        return null;
    }

    try {
        const apiKey = 'b8b3bb0f53ec497917b2e8a97412590f';
        const response = await fetch(`https://api.themoviedb.org/3/movie/${tmdbId}?api_key=${apiKey}&language=es-ES`);
        const data = await response.json();

        if (data && data.runtime) {
            console.log(`Duración obtenida de TMDb: ${data.runtime} minutos`);
            return data.runtime * 60; // Convertir minutos a segundos
        } else {
            console.warn('No se pudo obtener la duración desde TMDb.');
            return null;
        }
    } catch (error) {
        console.error('Error al obtener la duración desde TMDb:', error);
        return null;
    }
}

let timerInterval; // Variable global para el intervalo

// Función para iniciar el contador
function startTimer() {
    const seguirData = JSON.parse(localStorage.getItem('seguir'));
    if (!seguirData) return;

    timerInterval = setInterval(() => {
        const elapsedTime = Math.floor((Date.now() - seguirData.startTime) / 1000);
        localStorage.setItem('elapsedTime', elapsedTime);
        console.log(`Tiempo transcurrido: ${elapsedTime} segundos`);
    }, 1000); // Actualiza cada segundo
}

// Función para detener el contador
function stopTimer() {
    if (timerInterval) {
        clearInterval(timerInterval);
        timerInterval = null;
        console.log('Contador detenido.');
    }
}

// Detectar clic en el botón playButton
document.getElementById('play').addEventListener('click', async () => {
    try {
        const channelLogo = localStorage.getItem('channelLogo');
        const channelTitle = localStorage.getItem('channelTitle');
        const channelLinks = localStorage.getItem('channelLinks');
        const tmdbId = localStorage.getItem('tmdbId');
        const channelDuration = parseInt(localStorage.getItem('channelDuration'), 10);

        if (!channelLogo || !channelTitle || !channelLinks) {
            console.error('Faltan datos en localStorage');
            return;
        }

        let duration = null;

        if (tmdbId && tmdbId !== '0') {
            duration = await getDurationFromTMDb(tmdbId);
            if (!duration) {
                console.warn('No se pudo obtener la duración desde TMDb.');
                return;
            }
        } else if (channelDuration) {
            console.log(`Usando duración local: ${channelDuration} segundos`);
            duration = channelDuration;
        } else {
            console.error('No se encontró una duración válida.');
            return;
        }

        const seguirData = {
            channelLogo,
            channelTitle,
            channelLinks,
            tmdbId,
            duration,
            startTime: Date.now(),
        };
        localStorage.setItem('seguir', JSON.stringify(seguirData));

        console.log('Datos de reproducción guardados en localStorage:', seguirData);

        startTimer(); // Iniciar el contador
    } catch (error) {
        console.error('Error al manejar clic en playButton:', error);
    }
});

// Crear el popup
function createPopup(channelLogo, channelTitle, channelLinks, duration) {
    if (!channelLogo || !channelTitle || !channelLinks || !duration) {
        console.error('Faltan datos válidos para crear el popup.');
        return;
    }

    const popup = document.getElementById('contenedorseguir');
    const popupImage = document.getElementById('popup-image');
    const popupTitle = document.getElementById('popup-title');

    popupImage.src = channelLogo;
    popupTitle.textContent = channelTitle;
    popup.style.display = 'block';

    document.getElementById('seguir-button').onclick = () => {
        const savedLogo = localStorage.getItem('channelLogo');
        const savedTitle = localStorage.getItem('channelTitle');
        const savedLinks = localStorage.getItem('channelLinks');

        if (!savedLogo || !savedTitle || !savedLinks) {
            console.error('Faltan datos válidos en localStorage para continuar.');
            return;
        }

        fillPageContent(savedLogo, savedTitle, savedLinks);

        const detallesPopup = document.getElementById('detalles');
        detallesPopup.style.display = 'flex';

        popup.style.display = 'none';
    };

    document.getElementById('omitir-button').onclick = () => {
        localStorage.removeItem('seguir');
        localStorage.removeItem('elapsedTime');
        popup.style.display = 'none';
    };
}

// Verificar tiempo transcurrido al recargar la página
window.addEventListener('load', () => {
    const seguirData = JSON.parse(localStorage.getItem('seguir'));

    if (!seguirData) {
        console.log('No hay datos de la película en localStorage.');
        return;
    }

    const { channelLogo, channelTitle, tmdbId, channelLinks, duration, startTime } = seguirData;
    const channelDuration = parseInt(localStorage.getItem('channelDuration'), 10);
    const elapsedTime = parseInt(localStorage.getItem('elapsedTime'), 10) || 0;

    let finalDuration = duration;

    if ((!tmdbId || tmdbId === '0') && channelDuration) {
        console.log(`Usando duración local: ${channelDuration} segundos`);
        finalDuration = channelDuration;
    } else if (!finalDuration) {
        console.warn('No se encontró una duración válida.');
        return;
    }

    if (isNaN(finalDuration)) {
        console.error('La duración final no es válida.');
        return;
    }

    console.log(`Duración total: ${finalDuration} segundos`);
    console.log(`Tiempo visto: ${elapsedTime} segundos`);

    if (elapsedTime < finalDuration) {
        createPopup(channelLogo, channelTitle, channelLinks, finalDuration);
    } else {
        console.log('La película ha terminado o se omitió.');
        localStorage.removeItem('seguir');
        localStorage.removeItem('elapsedTime');
    }
});

// Detectar cuando el usuario cierra `popud8` y detener el contador
const popud8 = document.getElementById('popud8');
popud8.addEventListener('close', () => {
    stopTimer(); // Detener el contador
});

</script>



<script>
// ===============================
// 🎬 CARGADOR JSONP DESDE TU PHP
// ===============================
function loadTMDB(type, id, callbackName) {
    const old = document.getElementById("tmdbScript");
    if (old) old.remove();

    const script = document.createElement("script");
    script.id = "tmdbScript";
    script.src = `https://cinedey.free.nf/tmdb.php?type=${type}&id=${id}&callback=${callbackName}`;
    document.body.appendChild(script);
}

// ===============================
// 🎥 DETALLES DE LA PELÍCULA
// ===============================
function fetchMovieDetails(tmdbId) {
    loadTMDB("details", tmdbId, "tmdbDetailsCallback");
}

function tmdbDetailsCallback(movie) {
    if (movie.error) {
        console.error("TMDb error:", movie.error);
        return;
    }

    // Géneros
    document.getElementById('categories').textContent =
        movie.genres?.slice(0, 3).map(g => g.name).join(', ') || '';

    // Año
    document.getElementById('movie-year').textContent =
        movie.release_date ? movie.release_date.split('-')[0] : '';

    // Duración
    const runtime = movie.runtime || 0;
    const hours = Math.floor(runtime / 60);
    const minutes = runtime % 60;
    document.getElementById('movie-duration').textContent = `${hours}h ${minutes}m`;

    // Sinopsis
    const { truncated, full } = truncateSynopsis(movie.overview || '');
    const synopsisElement = document.getElementById('synopsis');
    synopsisElement.textContent = truncated;

    if (truncated !== full) {
        const toggleIcon = document.createElement('div');
        toggleIcon.className = 'toggle-icon fas fa-chevron-down';
        synopsisElement.appendChild(toggleIcon);

        toggleIcon.addEventListener('click', () => {
            const expanded = toggleIcon.classList.contains('fa-chevron-up');
            synopsisElement.textContent = expanded ? truncated : full;
            toggleIcon.classList.toggle('fa-chevron-down');
            toggleIcon.classList.toggle('fa-chevron-up');
            synopsisElement.appendChild(toggleIcon);
        });
    }

    // Extras
    fetchStreamingLogo(tmdbId);
    fetchTrailer(tmdbId);
}

// ===============================
// ▶ TRÁILER
// ===============================
function fetchTrailer(tmdbId) {
    loadTMDB("videos", tmdbId, "tmdbTrailerCallback");
}

function tmdbTrailerCallback(data) {
    if (!data.results) return;

    const trailer = data.results.find(v => v.type === "Trailer" && v.site === "YouTube");
    if (!trailer) return;

    const buttonContainer52 = document.getElementById('button-container52');
    const trailerIframe = document.getElementById('trailer-iframe');
    const popupContainer52 = document.getElementById('popup-container52');
    const popupOverlay = document.getElementById('popup-overlay');
    const closePopupButton52 = document.getElementById('close-popup52');

    buttonContainer52.innerHTML = '';

    const trailerButton = document.createElement('button');
    trailerButton.className = 'button trailer-button';
    trailerButton.innerHTML = '<i class="fas fa-film"></i>';

    trailerButton.addEventListener('click', () => {
        const active = trailerButton.classList.contains('active');

        trailerIframe.src = active ? '' : `https://www.youtube.com/embed/${trailer.key}`;
        popupContainer52.style.display = active ? 'none' : 'block';
        popupOverlay.style.display = active ? 'none' : 'block';
        trailerButton.classList.toggle('active');
    });

    buttonContainer52.appendChild(trailerButton);

    closePopupButton52.onclick = () => {
        trailerIframe.src = '';
        popupContainer52.style.display = 'none';
        popupOverlay.style.display = 'none';
        trailerButton.classList.remove('active');
    };

    popupOverlay.onclick = closePopupButton52.onclick;
}

// ===============================
// 📺 PLATAFORMA DE STREAMING
// ===============================
function fetchStreamingLogo(tmdbId) {
    loadTMDB("providers", tmdbId, "tmdbProvidersCallback");
}

function tmdbProvidersCallback(data) {
    const container = document.getElementById('streaming-logo');
    container.innerHTML = '';

    if (!data.results?.MX?.flatrate?.length) return;

    const provider = data.results.MX.flatrate[0];

    if (provider.logo_path) {
        const img = document.createElement("img");
        img.src = `https://image.tmdb.org/t/p/w200${provider.logo_path}`;
        img.alt = provider.provider_name;
        img.style.maxHeight = "50px";
        img.style.margin = "5px";
        container.appendChild(img);
    }
}

// ===============================
// ✂ FUNCIÓN SINOPSIS
// ===============================
function truncateSynopsis(synopsis) {
    const words = synopsis.split(' ');
    if (words.length <= 50) return { truncated: synopsis, full: synopsis };
    return {
        truncated: words.slice(0, 30).join(' ') + '...',
        full: synopsis
    };
}
</script>
    
<script>
// ==========================
// FAVORITOS - SCRIPT COMPLETO
// ==========================

// Variables globales
let openedFromFavorites = false;
let lastScrollPosition = 0;

// Evento al hacer clic en el botón principal de favoritos
document.getElementById('favorite').addEventListener('click', () => {
    const channelLogo = localStorage.getItem('channelLogo');
    const channelTitle = localStorage.getItem('channelTitle');
    const tmdbId = localStorage.getItem('tmdbId');
    const channelLinks = localStorage.getItem('channelLinks');

    if (!channelLogo || !channelTitle || !tmdbId || !channelLinks) {
        alert('No hay datos para agregar a favoritos.');
        return;
    }

    const icon = document.querySelector('#favorite i');
    const favoritesList = JSON.parse(localStorage.getItem('savedFavorites')) || [];

    const isFavorite = favoritesList.some(fav => fav.channelTitle === channelTitle);

    if (isFavorite) {
        // Eliminar de favoritos
        const updatedFavorites = favoritesList.filter(fav => fav.channelTitle !== channelTitle);
        localStorage.setItem('savedFavorites', JSON.stringify(updatedFavorites));

        icon.classList.remove('fa-trash');
        icon.classList.add('fa-heart');

        const favoriteItem = document.querySelector(`#savedFavoritosLists1 .favorite-item[data-channel-title="${channelTitle}"]`);
        if (favoriteItem) favoriteItem.remove();
    } else {
        // Crear nuevo favorito
        const favoriteItemData = { channelLogo, channelTitle, tmdbId, channelLinks };
        favoritesList.push(favoriteItemData);
        localStorage.setItem('savedFavorites', JSON.stringify(favoritesList));

        icon.classList.remove('fa-heart');
        icon.classList.add('fa-trash');

        addFavoriteToUI(favoriteItemData);
    }
});

// Función para agregar un favorito al contenedor
function addFavoriteToUI({ channelLogo, channelTitle, tmdbId, channelLinks }) {
    const favoritesList = document.getElementById('savedFavoritosLists1');

    const favoriteItem = document.createElement('div');
    favoriteItem.className = 'favorite-item';
    favoriteItem.dataset.channelTitle = channelTitle;
    favoriteItem.style = 'width:80px; margin-right:10px; position:relative; text-align:center;';

    const favoriteLogo = document.createElement('img');
    favoriteLogo.src = channelLogo;
    favoriteLogo.alt = channelTitle;
    favoriteLogo.className = 'favorite-logo';
    favoriteLogo.style = 'width:80px; height:130px; cursor:pointer; position:relative; margin-top:10px;';

    // Al hacer clic en un favorito
    favoriteLogo.onclick = () => {
        const popupFavoritos = document.getElementById('popupFavoritos');
        const popupDetalles = document.getElementById('detalles');

        // Guardamos estado y posición del scroll
        openedFromFavorites = true;
        lastScrollPosition = document.getElementById('savedFavoritosLists1').scrollTop;

        // Guardamos datos actuales
        localStorage.setItem('channelLogo', channelLogo);
        localStorage.setItem('channelTitle', channelTitle);
        localStorage.setItem('tmdbId', tmdbId);
        localStorage.setItem('channelLinks', channelLinks);

        // Llenamos la información en el popup de detalles
        fillPageContent(channelLogo, channelTitle, tmdbId, channelLinks);

        // Mostrar popup de detalles
        popupDetalles.style.display = 'flex';

        // Ocultar popup de favoritos
        popupFavoritos.style.display = 'none';
    };

    // Ícono para eliminar el favorito
    const deleteIcon = document.createElement('i');
    deleteIcon.className = 'fas fa-trash delete-icon';
    deleteIcon.style = `
        position:absolute;
        top:17px;
        right:9px;
        font-size:14px;
        color:#fff;
        cursor:pointer;
        z-index:2;
    `;
    deleteIcon.setAttribute('tabindex', '-1');

    deleteIcon.onclick = () => {
        const updatedFavorites = JSON.parse(localStorage.getItem('savedFavorites')).filter(fav => fav.channelTitle !== channelTitle);
        localStorage.setItem('savedFavorites', JSON.stringify(updatedFavorites));
        favoritesList.removeChild(favoriteItem);

        const mainIcon = document.querySelector('#favorite i');
        mainIcon.classList.remove('fa-trash');
        mainIcon.classList.add('fa-heart');
    };

    favoriteItem.appendChild(deleteIcon);

    const favoriteTitle = document.createElement('p');
    const maxLength = 14;
    favoriteTitle.textContent = channelTitle.length > maxLength ? `${channelTitle.substring(0, maxLength)}...` : channelTitle;
    favoriteTitle.className = 'favorite-title';
    favoriteTitle.style = 'font-size:10px; text-overflow:ellipsis; white-space:nowrap; overflow:hidden; font-weight:bold;';

    favoriteItem.appendChild(favoriteLogo);
    favoriteItem.appendChild(favoriteTitle);
    favoritesList.appendChild(favoriteItem);
}

// Cargar favoritos desde localStorage al inicio
function loadFavoritesFromLocalStorage() {
    const savedFavorites = JSON.parse(localStorage.getItem('savedFavorites')) || [];
    savedFavorites.forEach(favorite => addFavoriteToUI(favorite));

    const channelTitle = localStorage.getItem('channelTitle');
    if (channelTitle && savedFavorites.some(fav => fav.channelTitle === channelTitle)) {
        const icon = document.querySelector('#favorite i');
        icon.classList.remove('fa-heart');
        icon.classList.add('fa-trash');
    }
}
loadFavoritesFromLocalStorage();

//  Observador: Detectar cuando se cierra el popup de detalles
const observerDetalles = new MutationObserver(() => {
    const popupDetalles = document.getElementById('detalles');
    if (popupDetalles.style.display === 'none' && openedFromFavorites) {
        const popupFavoritos = document.getElementById('popupFavoritos');
        const favoritesList = document.getElementById('savedFavoritosLists1');

        // Volver a mostrar el popup de favoritos
        popupFavoritos.style.display = 'flex';

        // Restaurar el scroll en la posición previa
        favoritesList.scrollTop = lastScrollPosition;

        // Resetear el estado
        openedFromFavorites = false;
    }
});
observerDetalles.observe(document.getElementById('detalles'), { attributes: true, attributeFilter: ['style'] });

// ==========================
// FIN DEL SCRIPT DE FAVORITOS
// ==========================
</script>  

   
<script>
  
  // Función para manejar "Vistos"
async function addToVistos() {
    let vistosList = JSON.parse(localStorage.getItem('savedVistos')) || [];

    // Obtén los datos actuales directamente desde localStorage
    const channelLogo = localStorage.getItem('channelLogo');
    const channelTitle = localStorage.getItem('channelTitle');
    const tmdbId = localStorage.getItem('tmdbId');
    const channelLinks = localStorage.getItem('channelLinks');

    // Filtrar la lista para eliminar la película si ya existe
    vistosList = vistosList.filter(visto => visto.channelTitle !== channelTitle);

    // Crear un nuevo objeto para "Vistos"
    const vistoItemData = { channelLogo, channelTitle, tmdbId, channelLinks };

    // Agregar al inicio de la lista
    vistosList.unshift(vistoItemData);

    // Limitar la lista a 10 elementos
    if (vistosList.length > 10) {
        vistosList.pop();
    }

    // Guardar en localStorage
    localStorage.setItem('savedVistos', JSON.stringify(vistosList));

    // Actualizar la UI
    updateVistosUI(vistosList);
}

// Función para renderizar "Vistos"
function updateVistosUI(vistosList) {
    const vistosContainer = document.getElementById('savedVistosLists1');
    vistosContainer.innerHTML = ''; // Limpiar contenedor

    vistosList.forEach(visto => {
        const { channelLogo, channelTitle, tmdbId, channelLinks } = visto;

        // Crear contenedor principal
        const vistoItem = document.createElement('div');
        vistoItem.className = 'visto-item';
        vistoItem.style = 'width: 80px; margin-right: 10px; position: relative; text-align: center;';

        // Crear la imagen del logo
        const vistoLogo = document.createElement('img');
        vistoLogo.src = channelLogo;
        vistoLogo.alt = channelTitle;
        vistoLogo.style = 'width:80px; height: 130px; cursor: pointer; position: relative;margin-top:10px;';

        vistoLogo.onclick = () => {
            // Actualiza localStorage con los datos del favorito
            localStorage.setItem('channelLogo', channelLogo);
            localStorage.setItem('channelTitle', channelTitle);
            localStorage.setItem('tmdbId', tmdbId);
            localStorage.setItem('channelLinks', channelLinks);

            // Llama a la función que llena los datos en la página
            fillPageContent(channelLogo, channelTitle, tmdbId, channelLinks);

            // Mostrar el popup de detalles
            const popup = document.getElementById('detalles');
            popup.style.display = 'flex';

            const savedFavorites = JSON.parse(localStorage.getItem('savedFavorites')) || [];
            const favoriteIcon = document.querySelector('#favorite i');
            const isFavorite = savedFavorites.some(fav => fav.channelTitle === channelTitle);

            if (isFavorite) {
                favoriteIcon.classList.remove('fa-heart');
                favoriteIcon.classList.add('fa-trash');
            } else {
                favoriteIcon.classList.remove('fa-trash');
                favoriteIcon.classList.add('fa-heart');
            }

            const savedOjos = JSON.parse(localStorage.getItem('savedOjos')) || [];
            const ojoButton = document.getElementById('ojo');
            const ojoIcon = ojoButton.querySelector('i');
            const isOjo = savedOjos.includes(channelTitle);

            if (isOjo) {
                ojoIcon.style.color = 'limegreen';
            } else {
                ojoIcon.style.color = '';
            }

            ojoButton.onclick = () => {
                const savedOjos = JSON.parse(localStorage.getItem('savedOjos')) || [];
                const ojoIndex = savedOjos.indexOf(channelTitle);

                if (ojoIndex > -1) {
                    savedOjos.splice(ojoIndex, 1);
                    ojoIcon.style.color = '';
                } else {
                    savedOjos.push(channelTitle);
                    ojoIcon.style.color = 'limegreen';
                }

                localStorage.setItem('savedOjos', JSON.stringify(savedOjos));
            };

            addToVistos(tmdbId, channelLinks);
        };

        // Crear el título
        const vistoTitle = document.createElement('p');
        const maxLength = 14; // Longitud máxima del título
        vistoTitle.textContent = channelTitle.length > maxLength ? `${channelTitle.substring(0, maxLength)}...` : channelTitle;
        vistoTitle.style = 'font-size: 10px; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; font-weight: bold; margin-top: 5px;';

        // Agregar elementos al contenedor
        vistoItem.appendChild(vistoLogo);
        vistoItem.appendChild(vistoTitle);

        // Agregar el contenedor al listado
        vistosContainer.appendChild(vistoItem);
    });
}

// Cargar los "Vistos" al iniciar la página
document.addEventListener('DOMContentLoaded', () => {
    const savedVistos = JSON.parse(localStorage.getItem('savedVistos')) || [];
    updateVistosUI(savedVistos);
});
  
  </script>
     
    
    
        
        
        
        
        
        
        
<script>

// Detectar recarga REAL
const isReload = performance.navigation.type === 1;

// Si NO es recarga  borrar categoría guardada
if (!isReload) {
    sessionStorage.removeItem("categoriaActiva");
}

// ELEMENTOS PRINCIPALES
const overlay = document.getElementById('overlay');
const startButton = document.getElementById('startButton');
const appContainer = document.getElementById('appContainer');
const categories = document.querySelectorAll('#categoryContainer .category');

// Layouts de PELICULAS
const layouts = [
  document.getElementById('carouselContainer'),
  document.getElementById('bottomContainers'),
  document.getElementById('rightContainers')
];

// Layouts de ANIME
const animeLayouts = [
  document.getElementById('animeContainers1'),
  document.getElementById('animeContainers2')
];

// Layouts de KIDS
const kidsLayouts = [
  document.getElementById('kidsContainers1'),
  document.getElementById('kidsContainers2'),
  document.getElementById('kidsContainers3'),
  document.getElementById('kidsContainers4'),
  document.getElementById('kidsContainers5')
];

// NUEVO — Layouts de TV
const tvLayouts = [
  document.getElementById('tvContainers1'),
];


// Mensaje orientación    
let orientationMessage = document.createElement('div');    
orientationMessage.id = 'orientationMessage';    
orientationMessage.textContent = 'Por favor, rota tu dispositivo a horizontal para continuar';    
orientationMessage.style.cssText = `    
  position: absolute;    
  bottom: 100px;    
  left: 50%;    
  transform: translateX(-50%);    
  background: rgba(0,0,0,0.8);    
  color: white;    
  padding: 12px 20px;    
  border-radius: 10px;    
  font-family: Arial, sans-serif;    
  font-size: 16px;    
  text-align: center;    
  display: none;    
  z-index: 9999;    
`;    
overlay.appendChild(orientationMessage);    
    
// ----------------------------    
// ORIENTACIÓN    
// ----------------------------    
function checkOrientation() {    
  const isLandscape = window.matchMedia("(orientation: landscape)").matches;    
    
  if (!isLandscape) {    
    overlay.style.display = 'flex';    
    appContainer.style.display = 'none';    
    orientationMessage.style.display = 'block';    
  } else {    
    orientationMessage.style.display = 'none';    
  }    
}    
    
window.addEventListener('orientationchange', () => {    
  setTimeout(checkOrientation, 300);    
});    
    
window.addEventListener('load', checkOrientation);    


// ---------------------------------------
// BOTÓN START — LÓGICA CON sessionStorage
// ---------------------------------------
startButton.addEventListener('click', () => {
  const isLandscape = window.matchMedia("(orientation: landscape)").matches;

  if (!isLandscape) {
    orientationMessage.style.display = 'block';
    return;
  }

  overlay.style.display = 'none';
  appContainer.style.display = 'block';

  let categoryToSelect =
    sessionStorage.getItem("categoriaActiva") || "PELICULAS";

  categories.forEach(btn => {
    btn.classList.toggle("selected", btn.textContent === categoryToSelect);
  });

  // Ocultar todas
  layouts.forEach(l => l.classList.add("hidden"));
  animeLayouts.forEach(l => l.classList.add("hidden"));
  kidsLayouts.forEach(l => l.classList.add("hidden"));
  tvLayouts.forEach(l => l.classList.add("hidden"));

  // Mostrar según categoría
  if (categoryToSelect === "PELICULAS") {
    layouts.forEach(l => l.classList.remove("hidden"));
    return;
  }

  if (categoryToSelect === "ANIME") {
    animeLayouts.forEach(l => l.classList.remove("hidden"));
    return;
  }

  if (categoryToSelect === "KIDS") {
    kidsLayouts.forEach(l => l.classList.remove("hidden"));
    return;
  }

  // ===============================
  //  HACK SOLO PARA TV
  // ===============================
  if (categoryToSelect === "TV") {
    tvLayouts.forEach(l => l.classList.remove("hidden"));

    const tvBtn = Array.from(
      document.querySelectorAll('#categoryContainer .category')
    ).find(b => b.textContent.trim().toUpperCase() === 'TV');

    if (!tvBtn) {
      console.warn('Botón TV no encontrado');
      return;
    }

    //  Simular click REAL
    setTimeout(() => {
      tvBtn.click();
    }, 0);
  }
});



  
  
  
  
  
// ----------------------------
// ICONO MENÚ
// ----------------------------
let lastSelectedCategory = null;

const playlistIcon = Array.from(document.querySelectorAll('#topRightIcons button'))
  .find(btn => btn.querySelector('.material-icons').textContent === 'menu');

playlistIcon.addEventListener('click', () => {
  lastSelectedCategory = Array.from(categories).find(c => c.classList.contains('selected'));

  layouts.forEach(l => l.classList.add('hidden'));
  animeLayouts.forEach(l => l.classList.add('hidden'));
  kidsLayouts.forEach(l => l.classList.add('hidden'));
  tvLayouts.forEach(l => l.classList.add('hidden'));

  pelis.style.display = 'flex';
  categories.forEach(c => c.classList.remove('selected'));
});


// ----------------------------
// CERRAR POPUP
// ----------------------------
closepelis.addEventListener('click', () => {
  pelis.style.display = 'none';

  if (lastSelectedCategory) {
    lastSelectedCategory.classList.add('selected');

    if (lastSelectedCategory.textContent === "PELICULAS") {
      layouts.forEach(l => l.classList.remove('hidden'));
    }
    if (lastSelectedCategory.textContent === "ANIME") {
      animeLayouts.forEach(l => l.classList.remove('hidden'));
    }
    if (lastSelectedCategory.textContent === "KIDS") {
      kidsLayouts.forEach(l => l.classList.remove('hidden'));
    }
    if (lastSelectedCategory.textContent === "TV") {
      tvLayouts.forEach(l => l.classList.remove('hidden'));
    }
  }
});


// ----------------------------
// CATEGORÍAS — GUARDAR EN sessionStorage
// ----------------------------
categories.forEach(btn => {
  btn.addEventListener('click', () => {

    sessionStorage.setItem("categoriaActiva", btn.textContent);

    pelis.style.display = 'none';

    categories.forEach(b => b.classList.remove('selected'));
    btn.classList.add('selected');

    // Ocultar todas
    layouts.forEach(l => l.classList.add('hidden'));
    animeLayouts.forEach(l => l.classList.add('hidden'));
    kidsLayouts.forEach(l => l.classList.add('hidden'));
    tvLayouts.forEach(l => l.classList.add('hidden'));

    // Mostrar según categoría
    if (btn.textContent === "PELICULAS") {
      layouts.forEach(l => l.classList.remove('hidden'));
    } 
    else if (btn.textContent === "ANIME") {
      animeLayouts.forEach(l => l.classList.remove('hidden'));
    } 
    else if (btn.textContent === "KIDS") {
      kidsLayouts.forEach(l => l.classList.remove('hidden'));
    } 
    else if (btn.textContent === "TV") {
      tvLayouts.forEach(l => l.classList.remove('hidden'));
    }
  });
});
  
  
  
  
/* ======================================================
   CARRUSEL PRINCIPAL - PELICULAS
   ====================================================== */
const slides = document.querySelectorAll('.carouselSlide');
const dots = document.querySelectorAll('.dot');
const carousel = document.getElementById('carouselSlides');

let currentIndex = 0;
let autoplay;

function showSlide(index) {
    const slide = slides[index];
    if (!slide) return;

    carousel.scrollTo({
        left: slide.offsetLeft,
        behavior: 'smooth'
    });

    dots.forEach(dot => dot.classList.remove('active'));
    if (dots[index]) dots[index].classList.add('active');
}

function startAutoplay() {
    clearInterval(autoplay);
    autoplay = setInterval(() => {
        currentIndex = (currentIndex + 1) % slides.length;
        showSlide(currentIndex);
    }, 3000);
}

function stopAutoplay() {
    clearInterval(autoplay);
}

function resumeCarousel() {
    const slideWidth = slides[0].offsetWidth + parseInt(getComputedStyle(carousel).gap || 0);
    currentIndex = Math.round(carousel.scrollLeft / slideWidth);
    showSlide(currentIndex);
    startAutoplay();
}

carousel.addEventListener('scroll', () => {
    const slideWidth = slides[0].offsetWidth + parseInt(getComputedStyle(carousel).gap || 0);
    const newIndex = Math.round(carousel.scrollLeft / slideWidth);

    if (newIndex !== currentIndex) {
        currentIndex = newIndex;
        dots.forEach(dot => dot.classList.remove('active'));
        if (dots[currentIndex]) dots[currentIndex].classList.add('active');
    }
});

carousel.addEventListener('mousedown', stopAutoplay);
carousel.addEventListener('touchstart', stopAutoplay);
carousel.addEventListener('mouseup', () => setTimeout(startAutoplay, 2000));
carousel.addEventListener('touchend', () => setTimeout(startAutoplay, 2000));

/* ======================================================
   CARRUSEL INDEPENDIENTE - KIDS
   ====================================================== */
const kidsSlides = document.querySelectorAll('#kidsCarouselSlides .kidsSlide');
const kidsDots = document.querySelectorAll('#kidsCarouselDots .kidsDot');
const kidsCarousel = document.getElementById('kidsCarouselSlides');

let kidsIndex = 0;
let kidsAutoplay;

function showKidsSlide(index) {
    const slide = kidsSlides[index];
    if (!slide) return;

    kidsCarousel.scrollTo({
        left: slide.offsetLeft,
        behavior: 'smooth'
    });

    kidsDots.forEach(dot => dot.classList.remove('active'));
    if (kidsDots[index]) kidsDots[index].classList.add('active');
}

function startKidsAutoplay() {
    clearInterval(kidsAutoplay);
    kidsAutoplay = setInterval(() => {
        kidsIndex = (kidsIndex + 1) % kidsSlides.length;
        showKidsSlide(kidsIndex);
    }, 3000);
}

function stopKidsAutoplay() {
    clearInterval(kidsAutoplay);
}

function resumeKidsCarousel() {
    const slideWidth = kidsSlides[0].offsetWidth + parseInt(getComputedStyle(kidsCarousel).gap || 0);
    kidsIndex = Math.round(kidsCarousel.scrollLeft / slideWidth);
    showKidsSlide(kidsIndex);
    startKidsAutoplay();
}

kidsCarousel.addEventListener('scroll', () => {
    const slideWidth = kidsSlides[0].offsetWidth + parseInt(getComputedStyle(kidsCarousel).gap || 0);
    const newIndex = Math.round(kidsCarousel.scrollLeft / slideWidth);

    if (newIndex !== kidsIndex) {
        kidsIndex = newIndex;
        kidsDots.forEach(dot => dot.classList.remove('active'));
        if (kidsDots[kidsIndex]) kidsDots[kidsIndex].classList.add('active');
    }
});

kidsCarousel.addEventListener('mousedown', stopKidsAutoplay);
kidsCarousel.addEventListener('touchstart', stopKidsAutoplay);
kidsCarousel.addEventListener('mouseup', () => setTimeout(startKidsAutoplay, 2000));
kidsCarousel.addEventListener('touchend', () => setTimeout(startKidsAutoplay, 2000));

/* ======================================================
   POPUP UNIFICADO
   ====================================================== */
const popup = document.getElementById('detalles');
const closeBtn = document.querySelector('.close-btn51');

function openPopup(slideCarrusel) {
    // Pausar el carrusel correspondiente
    if (slideCarrusel === 'kids') stopKidsAutoplay();
    else stopAutoplay();

    popup.style.display = 'block';
}

function closePopup() {
    popup.style.display = 'none';
    // Reanudar ambos carruseles según corresponda
    if (document.querySelector('.kidsSlide:hover')) startKidsAutoplay();
    else startAutoplay();
}

if (closeBtn) closeBtn.addEventListener('click', closePopup);

// Asociar clic a cada slide del carrusel correcto
slides.forEach(slide => {
    slide.addEventListener('click', () => openPopup('main'));
});

kidsSlides.forEach(slide => {
    slide.addEventListener('click', () => openPopup('kids'));
});

// Iniciar ambos carruseles
if (slides.length > 0) {
    showSlide(currentIndex);
    startAutoplay();
}

if (kidsSlides.length > 0) {
    showKidsSlide(kidsIndex);
    startKidsAutoplay();
}  
    
 </script>   


    
    
    
    

<script>
document.addEventListener("DOMContentLoaded", function(){

  // --- Elementos principales ---
  const videoPlayer = document.getElementById("videoPlayer");
  const videoContainer = document.getElementById("videoContainer");
  const playPauseButton = document.getElementById('playPause');
  const rewindButton = document.getElementById('rewind');
  const forwardButton = document.getElementById('forward');
  const volumeButton = document.getElementById('volume');
  const speedIcon = document.getElementById('speedIcon');
  const speedMenu = document.getElementById('speedMenu');
  const centerControls = document.getElementById('centerControls');
  const topRightControls = document.getElementById('topRightControls');
  const controls1 = document.getElementById('controls1'); //  tu contenedor real
  const resizeButton = document.getElementById('resize');
  const currentTimeDisplay = document.getElementById('currentTime');
  const totalTimeDisplay = document.getElementById('totalTime');
  const progressBarContainer = document.querySelector('.progress-bar-container');
  const progress = document.getElementById('progress');
  const pipButton = document.getElementById('pictureInPicture');


const closePopupBtn = document.querySelector(".close-btn51");

  // ===============================
  //  RESET TOTAL DEL REPRODUCTOR
  // ===============================
  function resetVideoPlayerUI() {
    videoPlayer.pause();
    videoPlayer.removeAttribute("src");
    videoPlayer.load();

    playPauseButton.textContent = 'play_arrow';
    currentTimeDisplay.textContent = '00:00';
    totalTimeDisplay.textContent = '00:00';
    progress.style.width = '0%';

    videoPlayer.playbackRate = 1;
    videoPlayer.muted = false;
    volumeButton.textContent = 'volume_up';
  }

  if (closePopupBtn) {
    closePopupBtn.addEventListener("click", () => {
      resetVideoPlayerUI();
    });
  }



  // --- Aspectos posibles ---
  const aspects = [
    { name: 'Fill', fit: 'cover' },
    { name: 'Contain', fit: 'contain' },
    { name: 'Original', fit: 'none' },
    { name: '16:9', fit: 'cover', ratio: 16/9 }
  ];
  let currentAspect = 0;

  // --- Fullscreen Inmersivo ---
  const fullscreenButtons = document.querySelectorAll('.fullscreen-btn');
  const externalButton = document.querySelector('.fullscreen-btn[data-type="external"]');
  const controlsButton = document.querySelector('.fullscreen-btn[data-type="controls"]');

  // --- Estado inicial ---
  if (externalButton) externalButton.style.display = 'inline-block';
  if (controlsButton) controlsButton.style.display = 'none';
  if (controls1) controls1.style.display = 'none';
  if (centerControls) centerControls.style.display = 'none';
  if (topRightControls) topRightControls.style.display = 'none';

  // --- Tooltip ---
  const tooltip = document.createElement('div');
  tooltip.style.position = 'absolute';
  tooltip.style.padding = '3px 6px';
  tooltip.style.background = '#fff';
  tooltip.style.color = '#000';
  tooltip.style.fontSize = '14px';
  tooltip.style.borderRadius = '3px';
  tooltip.style.pointerEvents = 'none';
  tooltip.style.transition = 'opacity 0.3s';
  tooltip.style.opacity = '0';
  tooltip.style.zIndex = '9999';
  videoContainer.appendChild(tooltip);

  function showTooltip(text){
    tooltip.textContent = text;
    const rect = resizeButton.getBoundingClientRect();
    const containerRect = videoContainer.getBoundingClientRect();
    tooltip.style.left = `${rect.left - containerRect.left + rect.width/2}px`;
    tooltip.style.top = `${rect.top - containerRect.top - 50}px`;
    tooltip.style.transform = 'translateX(-50%)';
    tooltip.style.opacity = '1';
    setTimeout(()=>{ tooltip.style.opacity = '0'; }, 2000);
  }

  // --- Resize Button (Aspectos) ---
  resizeButton.addEventListener('click', ()=>{
    currentAspect = (currentAspect + 1) % aspects.length;
    const aspect = aspects[currentAspect];

    if(aspect.name === 'Original'){
      videoPlayer.style.width = '';
      videoPlayer.style.height = '';
      videoPlayer.style.objectFit = 'none';
      videoContainer.style.height = '50vh';
    } else if(aspect.name === '16:9'){
      videoPlayer.style.width = '100%';
      videoPlayer.style.height = '100%';
      videoPlayer.style.objectFit = aspect.fit;
      videoContainer.style.height = `${videoContainer.offsetWidth / aspect.ratio}px`;
    } else {
      videoPlayer.style.width = '100%';
      videoPlayer.style.height = '100%';
      videoPlayer.style.objectFit = aspect.fit;
      videoContainer.style.height = '50vh';
    }

    showTooltip(aspect.name);
    if(typeof resetControlsTimeout==='function') resetControlsTimeout();
  });

  // --- Fullscreen ---
  fullscreenButtons.forEach(button => {
    button.addEventListener('click', async () => {
      if (!document.fullscreenElement) {
        try {
          await videoContainer.requestFullscreen({navigationUI: "hide"});
          if(screen.orientation && screen.orientation.lock){
            await screen.orientation.lock("landscape").catch(()=>{});
          }
        } catch(e){ console.log("Error al entrar fullscreen:", e); }
      } else {
        try { await document.exitFullscreen(); } catch(e){console.log(e);}
        if(screen.orientation && screen.orientation.unlock){
          screen.orientation.unlock();
        }
      }
    });
  });

  // --- Alternar visibilidad al entrar/salir de fullscreen ---
  document.addEventListener('fullscreenchange', () => {
    if(document.fullscreenElement){
      // Fullscreen activo
      if (externalButton) externalButton.style.display = 'none';
      if (controlsButton) controlsButton.style.display = 'inline-block';
      if (controls1) controls1.style.display = 'flex';
      if (centerControls) centerControls.style.display = 'flex';
      if (topRightControls) topRightControls.style.display = 'flex';
    } else {
      // Fullscreen desactivado
      if (externalButton) externalButton.style.display = 'inline-block';
      if (controlsButton) controlsButton.style.display = 'none';
      if (controls1) controls1.style.display = 'none';
      if (centerControls) centerControls.style.display = 'none';
      if (topRightControls) topRightControls.style.display = 'none';

      // Restaurar tamaño inicial
      videoContainer.style.width="400px";
      videoContainer.style.height="150px";
      videoPlayer.style.width="100%";
      videoPlayer.style.height="100%";
      videoPlayer.style.objectFit="cover";
    }
  });

  // --- Play/Pause ---
  playPauseButton.addEventListener('click', ()=>{
    if(videoPlayer.paused){
      videoPlayer.play();
      playPauseButton.textContent='pause';
    } else {
      videoPlayer.pause();
      playPauseButton.textContent='play_arrow';
    }
    resetControlsTimeout();
  });




  // --- Rewind/Forward ---
  rewindButton.addEventListener('click', ()=> videoPlayer.currentTime -= 10);
  forwardButton.addEventListener('click', ()=> videoPlayer.currentTime += 10);

  // --- Menú de velocidad ---
  speedIcon.addEventListener('click', e => {
    speedMenu.classList.toggle('hidden1');
    e.stopPropagation();
  });

  speedMenu.querySelectorAll('div').forEach(opt=>{
    opt.addEventListener('click', ()=>{
      videoPlayer.playbackRate = parseFloat(opt.dataset.speed);
      speedMenu.classList.add('hidden1');
    });
  });

  document.addEventListener('click', e=>{
    if(!speedMenu.contains(e.target) && e.target!==speedIcon){
      speedMenu.classList.add('hidden1');
    }
  });

  // --- Volume ---
  volumeButton.addEventListener('click', ()=>{
    videoPlayer.muted = !videoPlayer.muted;
    volumeButton.textContent = videoPlayer.muted ? 'volume_off' : 'volume_up';
  });

  // --- PiP ---
  pipButton.addEventListener('click', async ()=>{
    if(document.pictureInPictureElement){
      document.exitPictureInPicture();
    } else {
      try{
        await videoPlayer.requestPictureInPicture();
      } catch(e){ alert("Tu navegador no soporta PiP"); }
    }
  });

  videoPlayer.addEventListener('leavepictureinpicture', ()=>{
    setTimeout(()=>{
      if(videoPlayer.paused){
        videoPlayer.play().then(()=>{ playPauseButton.textContent='pause'; });
      } else {
        playPauseButton.textContent='pause';
      }
    }, 200);
  });

  // --- Tiempo y progreso ---
  function formatTime(sec){ const m=Math.floor(sec/60), s=Math.floor(sec%60); return `${m}:${s<10?'0':''}${s}`; }
  videoPlayer.addEventListener('loadedmetadata', ()=> totalTimeDisplay.textContent = formatTime(videoPlayer.duration));
  videoPlayer.addEventListener('timeupdate', ()=>{
    currentTimeDisplay.textContent = formatTime(videoPlayer.currentTime);
    progress.style.width = (videoPlayer.currentTime/videoPlayer.duration*100)+"%";
  });

  progressBarContainer.addEventListener('click', e=>{
    const rect = progressBarContainer.getBoundingClientRect();
    videoPlayer.currentTime = (e.clientX - rect.left)/rect.width*videoPlayer.duration;
  });

  // --- Mostrar y ocultar controles automáticamente ---
  let controlsTimeout;
  function hideControls(){ 
    controls1.style.opacity='0'; 
    centerControls.style.opacity='0'; 
    topRightControls.style.opacity='0'; 
  }
  function showControls(){ 
    controls1.style.opacity='1'; 
    centerControls.style.opacity='1'; 
    topRightControls.style.opacity='1'; 
  }
  function resetControlsTimeout(){
    if(!document.fullscreenElement) return; // solo en fullscreen
    showControls();
    clearTimeout(controlsTimeout);
    controlsTimeout = setTimeout(()=>{ if(!videoPlayer.paused) hideControls(); },3000);
  }

  videoContainer.addEventListener('pointermove', resetControlsTimeout);
  videoContainer.addEventListener('pointerdown', resetControlsTimeout);
  videoContainer.addEventListener('click', resetControlsTimeout);
  window.addEventListener('orientationchange', resetControlsTimeout);
  window.addEventListener('resize', resetControlsTimeout);
  videoPlayer.addEventListener('loadedmetadata', resetControlsTimeout);
  videoPlayer.addEventListener('play', resetControlsTimeout);

});

// --- Bloquear zoom con teclado y mouse ---
document.addEventListener("keydown", e=>{
  if((e.ctrlKey || e.metaKey) && (e.key==='+'||e.key==='-'||e.key==='='||e.key==='0')) e.preventDefault();
});
document.addEventListener("wheel", e=>{ if(e.ctrlKey) e.preventDefault(); }, {passive:false});

// --- Deshabilitar clic derecho y copiar ---
document.addEventListener("contextmenu", e=>e.preventDefault());
document.addEventListener("copy", e=>e.preventDefault());
document.addEventListener("cut", e=>e.preventDefault());
document.addEventListener("selectstart", e=>e.preventDefault());
</script>    
    
    






     <script>
  const manifest = {
    "name": "JESTV ONLINE",
    "short_name": "JESTV ONLINE",
    "start_url": "/jestv/",
    "display": "standalone",
    "background_color": "#ffffff",
    "theme_color": "#317EFB",
    "icons": [
      {
        "src": "https://fullextrema.lovestoblog.com/wp-content/uploads/2025/04/icon-192x192-1.png",
        "sizes": "192x192",
        "type": "image/png"
      },
      {
        "src": "https://fullextrema.lovestoblog.com/wp-content/uploads/2025/04/icon-512x512-1.png",
        "sizes": "512x512",
        "type": "image/png"
      }
    ]
  };

  const blob = new Blob([JSON.stringify(manifest)], { type: 'application/json' });
  const manifestURL = URL.createObjectURL(blob);
  const link = document.createElement('link');
  link.rel = 'manifest';
  link.href = manifestURL;
  document.head.appendChild(link);

  const swCode = `
    self.addEventListener('install', e => {
      e.waitUntil(
        caches.open('jestv-cache').then(cache => {
          return cache.addAll(['/jestv/']);
        })
      );
    });

    self.addEventListener('fetch', e => {
      e.respondWith(
        caches.match(e.request).then(response => response || fetch(e.request))
      );
    });
  `;

  if ('serviceWorker' in navigator) {
    const blobSW = new Blob([swCode], { type: 'application/javascript' });
    const swURL = URL.createObjectURL(blobSW);
    navigator.serviceWorker.register(swURL)
      .then(reg => console.log('Service Worker registrado en WordPress'))
      .catch(err => console.error('Error al registrar el Service Worker:', err));
  }
</script>
   
 
    
    <script>
document.addEventListener("DOMContentLoaded", () => {
    const closePopupBtn = document.querySelector(".close-btn51");
    const popup = document.getElementById("detalles");
    const videoPlayer = document.getElementById("videoPlayer");

    if (closePopupBtn && popup && videoPlayer) {
        closePopupBtn.addEventListener("click", () => {
            //  Ocultar el popup
            popup.style.display = "none";

            //  Detener el video
            videoPlayer.pause();
            videoPlayer.currentTime = 0;

            //  Limpiar la fuente del video para liberar memoria
            videoPlayer.removeAttribute("src");
            videoPlayer.load();
        });
    }
});
</script>
   
  
<script>
document.addEventListener('DOMContentLoaded', () => {
  const openFavoritesBtn = document.getElementById('favoritos');
  const popupFavoritos = document.getElementById('popupFavoritos');
  const closeFavoritesBtn = document.getElementById('cerrarFavoritos');

  //  Mostrar el popup al hacer clic en el botón de estrella
  openFavoritesBtn.addEventListener('click', () => {
    popupFavoritos.style.display = 'flex'; // usa flex para mantener el layout del contenido
    document.getElementById('savedFavoritosLists1').style.display = 'flex';
  });

  //  Cerrar el popup al hacer clic en la flecha
  closeFavoritesBtn.addEventListener('click', () => {
    popupFavoritos.style.display = 'none';
  });
});
</script>


<script>
document.addEventListener('DOMContentLoaded', () => {
  const openVistosBtn = document.getElementById('Vistos');
  const popupVistos = document.getElementById('popupVistos');
  const closeVistosBtn = document.getElementById('cerrarVistos');

  //  Mostrar el popup al hacer clic en el botón de estrella
  openVistosBtn.addEventListener('click', () => {
    popupVistos.style.display = 'flex'; // usa flex para mantener el layout del contenido
    document.getElementById('savedVistosLists1').style.display = 'flex';
  });

  //  Cerrar el popup al hacer clic en la flecha
  closeVistosBtn.addEventListener('click', () => {
    popupVistos.style.display = 'none';
  });
});
</script>






<script>
const input = document.getElementById("search-input");

// Evitar escribir con teclado físico
input.addEventListener("keydown", e => e.preventDefault());

function updateCursor() {
  input.focus();
  const pos = input.selectionStart;
  input.setSelectionRange(pos, pos);
}

//  Agregamos input.dispatchEvent(new Event("input")) en estas funciones

function pressKey(char) {
  const start = input.selectionStart;
  const end   = input.selectionEnd;
  const value = input.value;

  input.value = value.slice(0, start) + char + value.slice(end);
  input.setSelectionRange(start + 1, start + 1);
  updateCursor();

  input.dispatchEvent(new Event("input")); // <<< dispara búsqueda
}

function eraseLetter() {
  const start = input.selectionStart;
  const end   = input.selectionEnd;
  const value = input.value;

  if (start === 0) return;

  input.value = value.slice(0, start - 1) + value.slice(end);
  input.setSelectionRange(start - 1, start - 1);
  updateCursor();

  input.dispatchEvent(new Event("input")); // <<< dispara búsqueda
}

function eraseAll() {
  input.value = "";
  input.setSelectionRange(0, 0);
  updateCursor();

  input.dispatchEvent(new Event("input")); // <<< dispara búsqueda
}

function moveCursorLeft() {
  const pos = input.selectionStart;
  input.setSelectionRange(Math.max(0, pos - 1), Math.max(0, pos - 1));
  updateCursor();
}

function moveCursorRight() {
  const pos = input.selectionStart;
  input.setSelectionRange(Math.min(input.value.length, pos + 1), Math.min(input.value.length, pos + 1));
  updateCursor();
}

// Generar teclado
const keyboard = document.getElementById("keyboard");
const keys = [..."ABCDEFGHIJKLMNÑOPQRSTUVWXYZ", ..."0123456789", " "];

keys.forEach(k => {
  const btn = document.createElement("button");
  btn.textContent = (k === " " ? "" : k);
  btn.onclick = () => pressKey(k);
  keyboard.appendChild(btn);
});

// Botones especiales
[
  {icon:"arrow_back", fn:moveCursorLeft},
  {icon:"arrow_forward", fn:moveCursorRight},
  {icon:"backspace", fn:eraseLetter},
  {icon:"delete_forever", fn:eraseAll}
].forEach(s => {
  const btn = document.createElement("button");
  btn.innerHTML = `<span class="material-icons">${s.icon}</span>`;
  btn.onclick = s.fn;
  keyboard.appendChild(btn);
});

updateCursor();
</script>



<script>  
    document.getElementById('searchIcon').addEventListener('click', function () {  
        document.getElementById('search-overlay').style.display = 'flex';  
        document.getElementById('search-input').focus();  
    });  
  
    document.getElementById('close-search').addEventListener('click', function () {  
        document.getElementById('search-overlay').style.display = 'none';  
        document.getElementById('search-input').value = '';  
        document.getElementById('search-results').innerHTML = '';  
    });  
  
    
    document.getElementById('search-input').addEventListener('input', function () {  
    let query = normalizeText(this.value.trim().toLowerCase());  
    let searchResults = document.getElementById('search-results');  
    searchResults.innerHTML = '';  
  
    if (query.length === 0) return;  
  
    let storedData = localStorage.getItem('m3uData');  
    if (!storedData) return;  
  
    let channels = JSON.parse(storedData);  
    let uniqueTitles = new Set(); // Para evitar duplicados  
  
    let stopwords = new Set(["el", "los", "la"]); // Palabras a omitir

let filteredChannels = channels.filter(channel => {  
    let normalizedTitle = normalizeText(channel.title.toLowerCase());  
    let category = channel.group.toLowerCase();  

    // Evitar mostrar películas de la categoría "ADULTOS"
    if (category === 'adultos') return false;  

    // Dividir la consulta en palabras clave y eliminar "el", "los" y "la"
    let keywords = query.split(/\s+/).filter(word => !stopwords.has(word));

    // Si no quedan palabras clave después de eliminar "el", "los" y "la", no hacer nada
    if (keywords.length === 0) return false;

    // Verificar si TODAS las palabras clave están en el título
    let allKeywordsMatch = keywords.every(keyword => normalizedTitle.includes(keyword));

    // Evitar duplicados
    if (allKeywordsMatch && !uniqueTitles.has(normalizedTitle)) {  
        uniqueTitles.add(normalizedTitle);  
        return true;  
    }  

    return false;  
});
  
    if (filteredChannels.length === 0) {  
        searchResults.innerHTML = '<p style="color:white; text-align:center;">No se encontraron resultados</p>';  
        return;  
    }  
  
    searchResults.innerHTML = ''; // Limpiar resultados previos  
  
    filteredChannels.forEach((channel, index) => {  
        const category = channel.group.toLowerCase(); // Obtener la categoría nuevamente  
  
        // Evitar mostrar películas de la categoría "ADULTOS"  
        if (category === 'adultos') return;  
  
        const channelDiv = document.createElement('div');  
        channelDiv.classList.add('channel-container1');  
        channelDiv.dataset.index = index;  
        channelDiv.dataset.title = channel.title;  
        channelDiv.dataset.group = channel.group;  
        channelDiv.style = 'text-align: center; position: relative;';  
  
        if (channel.logo) {  
            const img = document.createElement('img');  
            img.src = channel.logo;  
            img.alt = channel.title;  
            
            channelDiv.appendChild(img);  
  
            if (channel.title.length > 0 && channel.tmdbId && channel.links) {  
                img.onclick = () => { // Obtener los datos de la película seleccionada const tmdbId = channel.tmdbId;  
  
const channelLogo = channel.logo;  
const channelTitle = channel.title;  
 const channelLinks = channel.links;  
  const tmdbId = channel.tmdbId;  
 const channelDuration = channel.duration;  
  
   // Guardar en localStorage  
    
localStorage.setItem('tmdbId', tmdbId);  
  
localStorage.setItem('channelLogo', channelLogo); localStorage.setItem('channelTitle', channelTitle);  
  
localStorage.setItem('channelLinks', channelLinks);  
    
  localStorage.setItem('channelDuration', channelDuration);  
      
  fillPageContent(channelLogo, channelTitle, channelLinks);   
  
                     
                   
                    
                    // Guardar los datos temporalmente en localStorage  
                    localStorage.setItem('currentChannelLogo', channelLogo);  
                    localStorage.setItem('currentChannelTitle', channelTitle);  
                    localStorage.setItem('currentTmdbId', tmdbId);  
                    localStorage.setItem('currentChannelDuration', channelDuration);  
                    localStorage.setItem('currentChannelLinks', JSON.stringify(channelLinks));  
                    
                    
     
   // Abrir el popup  
        const popup = document.getElementById('detalles');  
        popup.style.display = 'flex'; // Muestra el popup  
   
                    
                    const savedFavorites = JSON.parse(localStorage.getItem('savedFavorites')) || [];  
                    const favoriteIcon = document.querySelector('#favorite i');  
                    const isFavorite = savedFavorites.some(fav => fav.channelTitle === channelTitle);  
  
                    if (isFavorite) {  
                        favoriteIcon.classList.remove('fa-heart');  
                        favoriteIcon.classList.add('fa-trash');  
                    } else {  
                        favoriteIcon.classList.remove('fa-trash');  
                        favoriteIcon.classList.add('fa-heart');  
                    }  
  
                    const savedOjos = JSON.parse(localStorage.getItem('savedOjos')) || [];  
                    const ojoButton = document.getElementById('ojo');  
                    const ojoIcon = ojoButton.querySelector('i');  
                    const isOjo = savedOjos.includes(channelTitle);  
  
                    if (isOjo) {  
                        ojoIcon.style.color = 'limegreen';  
                    } else {  
                        ojoIcon.style.color = '';  
                    }  
  
                    ojoButton.onclick = () => {  
                        const savedOjos = JSON.parse(localStorage.getItem('savedOjos')) || [];  
                        const ojoIndex = savedOjos.indexOf(channelTitle);  
  
                        if (ojoIndex > -1) {  
                            savedOjos.splice(ojoIndex, 1);  
                            ojoIcon.style.color = '';  
                        } else {  
                            savedOjos.push(channelTitle);  
                            ojoIcon.style.color = 'limegreen';  
                        }  
  
                        localStorage.setItem('savedOjos', JSON.stringify(savedOjos));  
                    };  
  
                    addToVistos(tmdbId, channelLinks);  
  
                    document.getElementById('search-overlay').style.display = 'none';  
                    document.getElementById('search-input').value = '';  
                    document.getElementById('search-results').innerHTML = '';  
                };  
            }  
        }  
  
        const title = document.createElement('p');  
        title.textContent = `${channel.title}`;  
        title.style = ' text-overflow: ellipsis; white-space: nowrap; overflow: hidden; font-weight: bold;';  
        channelDiv.appendChild(title);  
  
        searchResults.appendChild(channelDiv);  
    });  
});  
// Función para normalizar texto eliminando acentos y caracteres especiales  
function normalizeText(text) {  
    return text.normalize("NFD").replace(/[\u0300-\u036f]/g, "");  
}  
      
</script>  
  




<script>
function openManualChannel(logo, title, tmdbId, links) {

    // Guardar datos en localStorage (igual que lista M3U y favoritos)
    localStorage.setItem('channelLogo', logo);
    localStorage.setItem('channelTitle', title);
    localStorage.setItem('tmdbId', tmdbId);
    localStorage.setItem('channelLinks', links);

    // Para que el popup de favoritos sepa que se abrió desde aquí
    openedFromFavorites = false;

    // Asignamos contenido al popup con la misma función que ya usas
    fillPageContent(logo, title, tmdbId, links);

    // Mostrar popup de detalles (MISMO POPUP QUE USAS EN M3U)
    const popupDetalles = document.getElementById('detalles');
    popupDetalles.style.display = 'flex';
}
</script>


<script>
// ========================
// SCRIPT COMPLETO - OJO / VISTOS (solo color)
// ========================

// Click en botón del ojo
document.getElementById('ojo').addEventListener('click', () => {

    const channelLogo = localStorage.getItem('channelLogo');
    const channelTitle = localStorage.getItem('channelTitle');
    const tmdbId = localStorage.getItem('tmdbId');
    const channelLinks = localStorage.getItem('channelLinks');

    if (!channelLogo || !channelTitle || !tmdbId || !channelLinks) {
        alert('No hay datos para marcar como visto.');
        return;
    }

    const icon = document.querySelector('#ojo i');
    let vistosList = JSON.parse(localStorage.getItem('savedVistos')) || [];

    const isWatched = vistosList.some(v => v.channelTitle === channelTitle);

    if (isWatched) {
        // Quitar de vistos
        vistosList = vistosList.filter(v => v.channelTitle !== channelTitle);
        icon.style.color = "";
    } else {
        // Agregar a vistos
        vistosList.unshift({ channelLogo, channelTitle, tmdbId, channelLinks });

        if (vistosList.length > 10) {
            vistosList.pop();
        }

        icon.style.color = "limegreen";
    }

    localStorage.setItem('savedVistos', JSON.stringify(vistosList));

    updateVistosUI(vistosList);
});

// ============================
// Cargar estado al abrir popup
// ============================
function loadWatchedState() {
    const vistosList = JSON.parse(localStorage.getItem('savedVistos')) || [];
    const icon = document.querySelector('#ojo i');
    const channelTitle = localStorage.getItem('channelTitle');

    if (vistosList.some(v => v.channelTitle === channelTitle)) {
        icon.style.color = "limegreen";
    } else {
        icon.style.color = "";
    }
}
</script>




<script>
document.addEventListener('DOMContentLoaded', () => {
    const startButton = document.getElementById('startButton');
    const overlay = document.getElementById('overlay');
    const popupPelis = document.getElementById('pelis');

    if (startButton && overlay && popupPelis) {
        startButton.addEventListener('click', () => {
            // Ocultar el overlay
            overlay.style.display = 'none';

            // Abrir momentáneamente el popup
            popupPelis.style.display = 'flex'; // o 'block', según tu CSS

            // Cerrar automáticamente para que todo se inicialice
            setTimeout(() => {
                popupPelis.style.display = 'none';
            }, 300); // 300ms es suficiente
        });
    }
});
</script>
    
    
    
  
<script>
function openCategoryFromImage(element) {
  const category = element.getAttribute('data-category');
  const popup = document.getElementById('pelis');

  popup.style.display = 'block';

  // Esperar a que las categorías estén listas
  const interval = setInterval(() => {
    const labels = document.querySelectorAll('#categoryButtons .category-label');
    if (labels.length > 0) {
      clearInterval(interval);
      const label = Array.from(labels).find(lbl => lbl.textContent.trim().toUpperCase() === category.toUpperCase());
      if (label) label.click();
      else console.warn(`No se encontró la categoría: ${category}`);
    }
  }, 100);
}
  
  
</script>
  
  
    
    
    
    
<script>
document.addEventListener('DOMContentLoaded', () => {

    /* ===============================
       1) OBTENER BOTÓN TV
       =============================== */
    const tvBtn = Array.from(
        document.querySelectorAll('#categoryContainer .category')
    ).find(b => b.textContent.trim().toUpperCase() === 'TV');

    if (!tvBtn) {
        console.warn('Botón TV no encontrado');
        return;
    }

    // Categoría interna de TV a abrir
    const tvCategoryToOpen = 'CULTURA';

    /* ===============================
       2) LIMPIAR CONTENEDORES TV
       =============================== */
    function limpiarTV() {
        ['categoryButtons2', 'playlistContainer2', 'Linkstv']
            .forEach(id => {
                const el = document.getElementById(id);
                if (el) el.innerHTML = '';
            });
    }

    /* ===============================
       3) REFRESCAR LISTA M3U
       =============================== */
    function refrescarLista() {
        const url = localStorage.getItem('m3uUrl');
        if (!url) return;

        localStorage.removeItem('m3uData');

        const updatedUrl = url.includes('?')
            ? `${url}&t=${Date.now()}`
            : `${url}?t=${Date.now()}`;

        loadM3uPlaylist(updatedUrl);
    }

    /* ===============================
       4) SELECCIONAR CATEGORÍA TV
       (MISMA LÓGICA QUE openCategoryFromImage)
       =============================== */
    function seleccionarCategoriaTV(nombreCategoria) {
        const labels = document.querySelectorAll(
            '#categoryButtons2 .category-label'
        );

        if (!labels.length) return false;

        const label = Array.from(labels).find(
            lbl => lbl.textContent.trim().toUpperCase() === nombreCategoria.toUpperCase()
        );

        if (label) {
            label.click(); //  CLAVE: usar click real
            return true;
        }

        return false;
    }

    /* ===============================
       5) CLICK EN BOTÓN TV
       =============================== */
    tvBtn.addEventListener('click', () => {

        // Mostrar layout TV
        const tvLayout = document.getElementById('tvContainers1');
        if (tvLayout) {
            tvLayout.classList.remove('hidden');
            tvLayout.style.display = 'flex';
        }

        // Limpiar vista anterior
        limpiarTV();

        // Refrescar lista
        refrescarLista();

        // Esperar a que se generen las categorías y hacer click real en CULTURA
        const interval = setInterval(() => {
            if (seleccionarCategoriaTV(tvCategoryToOpen)) {
                clearInterval(interval);
            }
        }, 120);

        // Seguridad
        setTimeout(() => clearInterval(interval), 5000);

    }, { passive: true });

});
</script>    
    
   
    
    
    
  

    
    
<script>
document.addEventListener('DOMContentLoaded', () => {

  const popupPelis = document.getElementById('pelis');

  const recientesBtn = document.querySelector(
    'button[data-category="RECIENTES"]'
  );

  const pelisBtn = Array.from(
    document.querySelectorAll('#categoryContainer .category')
  ).find(b => b.textContent.trim().toUpperCase() === 'PELICULAS');

  const tvBtn = Array.from(
    document.querySelectorAll('#categoryContainer .category')
  ).find(b => b.textContent.trim().toUpperCase() === 'TV');

  if (!popupPelis || !recientesBtn || !pelisBtn || !tvBtn) return;

  let estabaEnTV = tvBtn.classList.contains('selected');

  function hackSalidaTV() {
    // 1 Abrir RECENTES (limpia + inicializa)
    recientesBtn.click();

    // 2 Forzar repaint con categoría real
    setTimeout(() => {
      pelisBtn.click();
    }, 150);

    // 3 Cerrar popup cuando ya está renderizado
    setTimeout(() => {
      popupPelis.style.display = 'none';
    }, 300);
  }

  const observer = new MutationObserver(() => {
    const ahoraEnTV = tvBtn.classList.contains('selected');

    if (estabaEnTV && !ahoraEnTV) {
      hackSalidaTV();
    }

    estabaEnTV = ahoraEnTV;
  });

  observer.observe(tvBtn, {
    attributes: true,
    attributeFilter: ['class']
  });

});
</script>
    
  
    
    
    
    
    
 <script>
document.addEventListener("DOMContentLoaded", () => {

  function protegerElementos() {
    // Iconos Font Awesome
    document.querySelectorAll("i.fas, i.far, i.fab, i.fa").forEach(el => {
      el.classList.add("notranslate");
      el.setAttribute("translate", "no");
    });

    // Botones (muchas veces se traducen y rompen layout)
    document.querySelectorAll("button").forEach(el => {
      el.classList.add("notranslate");
      el.setAttribute("translate", "no");
    });

    // Elementos con data-icon o role de icono
    document.querySelectorAll("[data-icon], [role='img']").forEach(el => {
      el.classList.add("notranslate");
      el.setAttribute("translate", "no");
    });
  }

  protegerElementos();

  //  También protege elementos que se crean dinámicamente (tu caso)
  const observer = new MutationObserver(() => {
    protegerElementos();
  });

  observer.observe(document.body, {
    childList: true,
    subtree: true
  });

});
</script>   
    
    
</body>
   
</html>




